(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["DrawCanvas"]=e(require("vue")):t["DrawCanvas"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"00ee":function(t,e,n){var i=n("b622"),o=i("toStringTag"),r={};r[o]="z",t.exports="[object z]"===String(r)},"017c":function(t,e,n){t.exports=n.p+"img/circle.e451d691.svg"},"0366":function(t,e,n){var i=n("1c0b");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},"0538":function(t,e,n){"use strict";var i=n("1c0b"),o=n("861d"),r=[].slice,s={},a=function(t,e,n){if(!(e in s)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";s[e]=Function("C,a","return new C("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=r.call(arguments,1),s=function(){var i=n.concat(r.call(arguments));return this instanceof s?a(e,i.length,i):e.apply(t,i)};return o(e.prototype)&&(s.prototype=e.prototype),s}},"057f":function(t,e,n){var i=n("fc6a"),o=n("241c").f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?a(t):o(i(t))}},"06cf":function(t,e,n){var i=n("83ab"),o=n("d1e7"),r=n("5c6c"),s=n("fc6a"),a=n("c04e"),c=n("5135"),u=n("0cfb"),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=s(t),e=a(e,!0),u)try{return h(t,e)}catch(n){}if(c(t,e))return r(!o.f.call(t,e),t[e])}},"0cfb":function(t,e,n){var i=n("83ab"),o=n("d039"),r=n("cc12");t.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},"159b":function(t,e,n){var i=n("da84"),o=n("fdbc"),r=n("17c2"),s=n("9112");for(var a in o){var c=i[a],u=c&&c.prototype;if(u&&u.forEach!==r)try{s(u,"forEach",r)}catch(h){u.forEach=r}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,o=n("a640"),r=n("ae40"),s=o("forEach"),a=r("forEach");t.exports=s&&a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"19aa":function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"1be4":function(t,e,n){var i=n("d066");t.exports=i("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var i=n("b622"),o=i("iterator"),r=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){r=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var i={};i[o]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(c){}return n}},"1cdc":function(t,e,n){var i=n("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1ddc":function(t,e,n){t.exports=n.p+"img/redo.a07034be.svg"},"1dde":function(t,e,n){var i=n("d039"),o=n("b622"),r=n("2d00"),s=o("species");t.exports=function(t){return r>=51||!i((function(){var e=[],n=e.constructor={};return n[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f35":function(t,e,n){var i={"./bucket.svg":"57ba","./circle.svg":"017c","./circle_filled.svg":"8e0a","./clear.svg":"823d","./colorpicker.svg":"966b","./grid.svg":"1fac","./grid_disabled.svg":"2ea8","./pencil.svg":"6cf9","./pencil_big.svg":"7948","./redo.svg":"1ddc","./undo.svg":"34a3"};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="1f35"},"1fac":function(t,e,n){t.exports=n.p+"img/grid.d12e6625.svg"},2266:function(t,e,n){var i=n("825a"),o=n("e95a"),r=n("50c4"),s=n("0366"),a=n("35a1"),c=n("9bdd"),u=function(t,e){this.stopped=t,this.result=e},h=t.exports=function(t,e,n,h,l){var p,f,d,v,y,g,m,w=s(e,n,h?2:1);if(l)p=t;else{if(f=a(t),"function"!=typeof f)throw TypeError("Target is not iterable");if(o(f)){for(d=0,v=r(t.length);v>d;d++)if(y=h?w(i(m=t[d])[0],m[1]):w(t[d]),y&&y instanceof u)return y;return new u(!1)}p=f.call(t)}g=p.next;while(!(m=g.call(p)).done)if(y=c(p,w,m.value,h),"object"==typeof y&&y&&y instanceof u)return y;return new u(!1)};h.stop=function(t){return new u(!0,t)}},"23cb":function(t,e,n){var i=n("a691"),o=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?o(n+e,0):r(n,e)}},"23e7":function(t,e,n){var i=n("da84"),o=n("06cf").f,r=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");t.exports=function(t,e){var n,h,l,p,f,d,v=t.target,y=t.global,g=t.stat;if(h=y?i:g?i[v]||a(v,{}):(i[v]||{}).prototype,h)for(l in e){if(f=e[l],t.noTargetGet?(d=o(h,l),p=d&&d.value):p=h[l],n=u(y?l:v+(g?".":"#")+l,t.forced),!n&&void 0!==p){if(typeof f===typeof p)continue;c(f,p)}(t.sham||p&&p.sham)&&r(f,"sham",!0),s(h,l,f,t)}}},"241c":function(t,e,n){var i=n("ca84"),o=n("7839"),r=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},2532:function(t,e,n){"use strict";var i=n("23e7"),o=n("5a34"),r=n("1d80"),s=n("ab13");i({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(r(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,n){"use strict";var i=n("6eeb"),o=n("825a"),r=n("d039"),s=n("ad6d"),a="toString",c=RegExp.prototype,u=c[a],h=r((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=a;(h||l)&&i(RegExp.prototype,a,(function(){var t=o(this),e=String(t.source),n=t.flags,i=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?s.call(t):n);return"/"+e+"/"+i}),{unsafe:!0})},2626:function(t,e,n){"use strict";var i=n("d066"),o=n("9bf2"),r=n("b622"),s=n("83ab"),a=r("species");t.exports=function(t){var e=i(t),n=o.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},"2cf4":function(t,e,n){var i,o,r,s=n("da84"),a=n("d039"),c=n("c6b6"),u=n("0366"),h=n("1be4"),l=n("cc12"),p=n("1cdc"),f=s.location,d=s.setImmediate,v=s.clearImmediate,y=s.process,g=s.MessageChannel,m=s.Dispatch,w=0,x={},b="onreadystatechange",A=function(t){if(x.hasOwnProperty(t)){var e=x[t];delete x[t],e()}},S=function(t){return function(){A(t)}},_=function(t){A(t.data)},E=function(t){s.postMessage(t+"",f.protocol+"//"+f.host)};d&&v||(d=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return x[++w]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(w),w},v=function(t){delete x[t]},"process"==c(y)?i=function(t){y.nextTick(S(t))}:m&&m.now?i=function(t){m.now(S(t))}:g&&!p?(o=new g,r=o.port2,o.port1.onmessage=_,i=u(r.postMessage,r,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(E)||"file:"===f.protocol?i=b in l("script")?function(t){h.appendChild(l("script"))[b]=function(){h.removeChild(this),A(t)}}:function(t){setTimeout(S(t),0)}:(i=E,s.addEventListener("message",_,!1))),t.exports={set:d,clear:v}},"2d00":function(t,e,n){var i,o,r=n("da84"),s=n("342f"),a=r.process,c=a&&a.versions,u=c&&c.v8;u?(i=u.split("."),o=i[0]+i[1]):s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(o=i[1]))),t.exports=o&&+o},"2ea8":function(t,e,n){t.exports=n.p+"img/grid_disabled.2806982f.svg"},3410:function(t,e,n){var i=n("23e7"),o=n("d039"),r=n("7b0b"),s=n("e163"),a=n("e177"),c=o((function(){s(1)}));i({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(t){return s(r(t))}})},"342f":function(t,e,n){var i=n("d066");t.exports=i("navigator","userAgent")||""},"34a3":function(t,e,n){t.exports=n.p+"img/undo.a2ed10c8.svg"},"35a1":function(t,e,n){var i=n("f5df"),o=n("3f8c"),r=n("b622"),s=r("iterator");t.exports=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||o[i(t)]}},"37e8":function(t,e,n){var i=n("83ab"),o=n("9bf2"),r=n("825a"),s=n("df75");t.exports=i?Object.defineProperties:function(t,e){r(t);var n,i=s(e),a=i.length,c=0;while(a>c)o.f(t,n=i[c++],e[n]);return t}},"3bbe":function(t,e,n){var i=n("861d");t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,n){"use strict";var i=n("6547").charAt,o=n("69f3"),r=n("7dd0"),s="String Iterator",a=o.set,c=o.getterFor(s);r(String,"String",(function(t){a(this,{type:s,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=i(n,o),e.index+=t.length,{value:t,done:!1})}))},"3f8c":function(t,e){t.exports={}},4057:function(t,e,n){var i=n("23e7"),o=Math.hypot,r=Math.abs,s=Math.sqrt,a=!!o&&o(1/0,NaN)!==1/0;i({target:"Math",stat:!0,forced:a},{hypot:function(t,e){var n,i,o=0,a=0,c=arguments.length,u=0;while(a<c)n=r(arguments[a++]),u<n?(i=u/n,o=o*i*i+1,u=n):n>0?(i=n/u,o+=i*i):o+=n;return u===1/0?1/0:u*s(o)}})},4160:function(t,e,n){"use strict";var i=n("23e7"),o=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"428f":function(t,e,n){var i=n("da84");t.exports=i},"44ad":function(t,e,n){var i=n("d039"),o=n("c6b6"),r="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?r.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var i=n("b622"),o=n("7c73"),r=n("9bf2"),s=i("unscopables"),a=Array.prototype;void 0==a[s]&&r.f(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},"44de":function(t,e,n){var i=n("da84");t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var i=n("861d"),o=n("c6b6"),r=n("b622"),s=r("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==o(t))}},"45fc":function(t,e,n){"use strict";var i=n("23e7"),o=n("b727").some,r=n("a640"),s=n("ae40"),a=r("some"),c=s("some");i({target:"Array",proto:!0,forced:!a||!c},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},4840:function(t,e,n){var i=n("825a"),o=n("1c0b"),r=n("b622"),s=r("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||void 0==(n=i(r)[s])?e:o(n)}},4930:function(t,e,n){var i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"49b0":function(t,e,n){},"4ae1":function(t,e,n){var i=n("23e7"),o=n("d066"),r=n("1c0b"),s=n("825a"),a=n("861d"),c=n("7c73"),u=n("0538"),h=n("d039"),l=o("Reflect","construct"),p=h((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),f=!h((function(){l((function(){}))})),d=p||f;i({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(t,e){r(t),s(e);var n=arguments.length<3?t:r(arguments[2]);if(f&&!p)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var o=n.prototype,h=c(a(o)?o:Object.prototype),d=Function.apply.call(t,h,e);return a(d)?d:h}})},"4d64":function(t,e,n){var i=n("fc6a"),o=n("50c4"),r=n("23cb"),s=function(t){return function(e,n,s){var a,c=i(e),u=o(c.length),h=r(s,u);if(t&&n!=n){while(u>h)if(a=c[h++],a!=a)return!0}else for(;u>h;h++)if((t||h in c)&&c[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(t,e,n){"use strict";var i=n("23e7"),o=n("b727").filter,r=n("1dde"),s=n("ae40"),a=r("filter"),c=s("filter");i({target:"Array",proto:!0,forced:!a||!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"50c4":function(t,e,n){var i=n("a691"),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},5692:function(t,e,n){var i=n("c430"),o=n("c6cd");(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var i=n("d066"),o=n("241c"),r=n("7418"),s=n("825a");t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=r.f;return n?e.concat(n(t)):e}},"57ba":function(t,e,n){t.exports=n.p+"img/bucket.e3102d46.svg"},"5a34":function(t,e,n){var i=n("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5d41":function(t,e,n){var i=n("23e7"),o=n("861d"),r=n("825a"),s=n("5135"),a=n("06cf"),c=n("e163");function u(t,e){var n,i,h=arguments.length<3?t:arguments[2];return r(t)===h?t[e]:(n=a.f(t,e))?s(n,"value")?n.value:void 0===n.get?void 0:n.get.call(h):o(i=c(t))?u(i,e,h):void 0}i({target:"Reflect",stat:!0},{get:u})},6547:function(t,e,n){var i=n("a691"),o=n("1d80"),r=function(t){return function(e,n){var r,s,a=String(o(e)),c=i(n),u=a.length;return c<0||c>=u?t?"":void 0:(r=a.charCodeAt(c),r<55296||r>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):r:t?a.slice(c,c+2):s-56320+(r-55296<<10)+65536)}};t.exports={codeAt:r(!1),charAt:r(!0)}},"65f0":function(t,e,n){var i=n("861d"),o=n("e8b5"),r=n("b622"),s=r("species");t.exports=function(t,e){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"69f3":function(t,e,n){var i,o,r,s=n("7f9a"),a=n("da84"),c=n("861d"),u=n("9112"),h=n("5135"),l=n("f772"),p=n("d012"),f=a.WeakMap,d=function(t){return r(t)?o(t):i(t,{})},v=function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(s){var y=new f,g=y.get,m=y.has,w=y.set;i=function(t,e){return w.call(y,t,e),e},o=function(t){return g.call(y,t)||{}},r=function(t){return m.call(y,t)}}else{var x=l("state");p[x]=!0,i=function(t,e){return u(t,x,e),e},o=function(t){return h(t,x)?t[x]:{}},r=function(t){return h(t,x)}}t.exports={set:i,get:o,has:r,enforce:d,getterFor:v}},"6cf9":function(t,e,n){t.exports=n.p+"img/pencil.d97f2144.svg"},"6eeb":function(t,e,n){var i=n("da84"),o=n("9112"),r=n("5135"),s=n("ce4e"),a=n("8925"),c=n("69f3"),u=c.get,h=c.enforce,l=String(String).split("String");(t.exports=function(t,e,n,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||r(n,"name")||o(n,"name",e),h(n).source=l.join("string"==typeof e?e:"")),t!==i?(c?!p&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var i=n("428f"),o=n("5135"),r=n("e538"),s=n("9bf2").f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});o(e,t)||s(e,t,{value:r.f(t)})}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7948:function(t,e,n){t.exports=n.p+"img/pencil_big.81bc4be3.svg"},"7b0b":function(t,e,n){var i=n("1d80");t.exports=function(t){return Object(i(t))}},"7c73":function(t,e,n){var i,o=n("825a"),r=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),h=n("f772"),l=">",p="<",f="prototype",d="script",v=h("IE_PROTO"),y=function(){},g=function(t){return p+d+l+t+p+"/"+d+l},m=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},w=function(){var t,e=u("iframe"),n="java"+d+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},x=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}x=i?m(i):w();var t=s.length;while(t--)delete x[f][s[t]];return x()};a[v]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(y[f]=o(t),n=new y,y[f]=null,n[v]=t):n=x(),void 0===e?n:r(n,e)}},"7db0":function(t,e,n){"use strict";var i=n("23e7"),o=n("b727").find,r=n("44d2"),s=n("ae40"),a="find",c=!0,u=s(a);a in[]&&Array(1)[a]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(a)},"7dd0":function(t,e,n){"use strict";var i=n("23e7"),o=n("9ed3"),r=n("e163"),s=n("d2bb"),a=n("d44e"),c=n("9112"),u=n("6eeb"),h=n("b622"),l=n("c430"),p=n("3f8c"),f=n("ae93"),d=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,y=h("iterator"),g="keys",m="values",w="entries",x=function(){return this};t.exports=function(t,e,n,h,f,b,A){o(n,e,h);var S,_,E,T=function(t){if(t===f&&C)return C;if(!v&&t in z)return z[t];switch(t){case g:return function(){return new n(this,t)};case m:return function(){return new n(this,t)};case w:return function(){return new n(this,t)}}return function(){return new n(this)}},O=e+" Iterator",P=!1,z=t.prototype,k=z[y]||z["@@iterator"]||f&&z[f],C=!v&&k||T(f),M="Array"==e&&z.entries||k;if(M&&(S=r(M.call(new t)),d!==Object.prototype&&S.next&&(l||r(S)===d||(s?s(S,d):"function"!=typeof S[y]&&c(S,y,x)),a(S,O,!0,!0),l&&(p[O]=x))),f==m&&k&&k.name!==m&&(P=!0,C=function(){return k.call(this)}),l&&!A||z[y]===C||c(z,y,C),p[e]=C,f)if(_={values:T(m),keys:b?C:T(g),entries:T(w)},A)for(E in _)(v||P||!(E in z))&&u(z,E,_[E]);else i({target:e,proto:!0,forced:v||P},_);return _}},"7f9a":function(t,e,n){var i=n("da84"),o=n("8925"),r=i.WeakMap;t.exports="function"===typeof r&&/native code/.test(o(r))},"81d5":function(t,e,n){"use strict";var i=n("7b0b"),o=n("23cb"),r=n("50c4");t.exports=function(t){var e=i(this),n=r(e.length),s=arguments.length,a=o(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);while(u>a)e[a++]=t;return e}},"823d":function(t,e,n){t.exports=n.p+"img/clear.2646acbc.svg"},"825a":function(t,e,n){var i=n("861d");t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var i=n("d039");t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var i=n("c04e"),o=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var s=i(e);s in t?o.f(t,s,r(0,n)):t[s]=n}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8875:function(t,e,n){var i,o,r;(function(n,s){o=[],i=s,r="function"===typeof i?i.apply(e,o):i,void 0===r||(t.exports=r)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,i,o,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=r.exec(f.stack)||s.exec(f.stack),c=a&&a[1]||!1,u=a&&a[2]||!1,h=document.location.href.replace(document.location.hash,""),l=document.getElementsByTagName("script");c===h&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(i,"$1").trim());for(var p=0;p<l.length;p++){if("interactive"===l[p].readyState)return l[p];if(l[p].src===c)return l[p];if(c===h&&l[p].innerHTML&&l[p].innerHTML.trim()===o)return l[p]}return null}}return t}))},8925:function(t,e,n){var i=n("c6cd"),o=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return o.call(t)}),t.exports=i.inspectSource},"8bbf":function(e,n){e.exports=t},"8e0a":function(t,e,n){t.exports=n.p+"img/circle_filled.d1f25c1a.svg"},"90e3":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},9112:function(t,e,n){var i=n("83ab"),o=n("9bf2"),r=n("5c6c");t.exports=i?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"94ca":function(t,e,n){var i=n("d039"),o=/#|\.prototype\./,r=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?i(e):!!e)},s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},c=r.NATIVE="N",u=r.POLYFILL="P";t.exports=r},"966b":function(t,e,n){t.exports=n.p+"img/colorpicker.478afb51.svg"},"96cf":function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(M){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof y?e:y,r=Object.create(o.prototype),s=new z(i||[]);return r._invoke=E(t,n,s),r}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(M){return{type:"throw",arg:M}}}t.wrap=u;var l="suspendedStart",p="suspendedYield",f="executing",d="completed",v={};function y(){}function g(){}function m(){}var w={};w[r]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(k([])));b&&b!==n&&i.call(b,r)&&(w=b);var A=m.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,r,s,a){var c=h(t[o],t,r);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"===typeof l&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(l).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var o;function r(t,i){function r(){return new e((function(e,o){n(t,i,e,o)}))}return o=o?o.then(r,r):r()}this._invoke=r}function E(t,e,n){var i=l;return function(o,r){if(i===f)throw new Error("Generator is already running");if(i===d){if("throw"===o)throw r;return C()}n.method=o,n.arg=r;while(1){var s=n.delegate;if(s){var a=T(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var c=h(t,e,n);if("normal"===c.type){if(i=n.done?d:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=d,n.method="throw",n.arg=c.arg)}}}function T(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var n=t[r];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function n(){while(++o<t.length)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:C}}function C(){return{value:e,done:!0}}return g.prototype=A.constructor=m,m.constructor=g,g.displayName=c(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,a,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},S(_.prototype),_.prototype[s]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var s=new _(u(e,n,i,o),r);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(A),c(A,a,"Generator"),A[r]=function(){return this},A.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=k,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return a.type="throw",a.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:k(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=i}catch(o){Function("r","regeneratorRuntime = r")(i)}},"99af":function(t,e,n){"use strict";var i=n("23e7"),o=n("d039"),r=n("e8b5"),s=n("861d"),a=n("7b0b"),c=n("50c4"),u=n("8418"),h=n("65f0"),l=n("1dde"),p=n("b622"),f=n("2d00"),d=p("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",g=f>=51||!o((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),m=l("concat"),w=function(t){if(!s(t))return!1;var e=t[d];return void 0!==e?!!e:r(t)},x=!g||!m;i({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,i,o,r,s=a(this),l=h(s,0),p=0;for(e=-1,i=arguments.length;e<i;e++)if(r=-1===e?s:arguments[e],w(r)){if(o=c(r.length),p+o>v)throw TypeError(y);for(n=0;n<o;n++,p++)n in r&&u(l,p,r[n])}else{if(p>=v)throw TypeError(y);u(l,p++,r)}return l.length=p,l}})},"9bdd":function(t,e,n){var i=n("825a");t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(s){var r=t["return"];throw void 0!==r&&i(r.call(t)),s}}},"9bf2":function(t,e,n){var i=n("83ab"),o=n("0cfb"),r=n("825a"),s=n("c04e"),a=Object.defineProperty;e.f=i?a:function(t,e,n){if(r(t),e=s(e,!0),r(n),o)try{return a(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9ed3":function(t,e,n){"use strict";var i=n("ae93").IteratorPrototype,o=n("7c73"),r=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(i,{next:r(1,n)}),s(t,u,!1,!0),a[u]=c,t}},a434:function(t,e,n){"use strict";var i=n("23e7"),o=n("23cb"),r=n("a691"),s=n("50c4"),a=n("7b0b"),c=n("65f0"),u=n("8418"),h=n("1dde"),l=n("ae40"),p=h("splice"),f=l("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,v=Math.min,y=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var n,i,h,l,p,f,m=a(this),w=s(m.length),x=o(t,w),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=w-x):(n=b-2,i=v(d(r(e),0),w-x)),w+n-i>y)throw TypeError(g);for(h=c(m,i),l=0;l<i;l++)p=x+l,p in m&&u(h,l,m[p]);if(h.length=i,n<i){for(l=x;l<w-i;l++)p=l+i,f=l+n,p in m?m[f]=m[p]:delete m[f];for(l=w;l>w-i+n;l--)delete m[l-1]}else if(n>i)for(l=w-i;l>x;l--)p=l+i-1,f=l+n-1,p in m?m[f]=m[p]:delete m[f];for(l=0;l<n;l++)m[l+x]=arguments[l+2];return m.length=w-i+n,h}})},a4d3:function(t,e,n){"use strict";var i=n("23e7"),o=n("da84"),r=n("d066"),s=n("c430"),a=n("83ab"),c=n("4930"),u=n("fdbf"),h=n("d039"),l=n("5135"),p=n("e8b5"),f=n("861d"),d=n("825a"),v=n("7b0b"),y=n("fc6a"),g=n("c04e"),m=n("5c6c"),w=n("7c73"),x=n("df75"),b=n("241c"),A=n("057f"),S=n("7418"),_=n("06cf"),E=n("9bf2"),T=n("d1e7"),O=n("9112"),P=n("6eeb"),z=n("5692"),k=n("f772"),C=n("d012"),M=n("90e3"),I=n("b622"),L=n("e538"),R=n("746f"),D=n("d44e"),N=n("69f3"),j=n("b727").forEach,U=k("hidden"),F="Symbol",G="prototype",W=I("toPrimitive"),H=N.set,V=N.getterFor(F),B=Object[G],Y=o.Symbol,X=r("JSON","stringify"),q=_.f,Z=E.f,$=A.f,K=T.f,J=z("symbols"),Q=z("op-symbols"),tt=z("string-to-symbol-registry"),et=z("symbol-to-string-registry"),nt=z("wks"),it=o.QObject,ot=!it||!it[G]||!it[G].findChild,rt=a&&h((function(){return 7!=w(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=q(B,e);i&&delete B[e],Z(t,e,n),i&&t!==B&&Z(B,e,i)}:Z,st=function(t,e){var n=J[t]=w(Y[G]);return H(n,{type:F,tag:t,description:e}),a||(n.description=e),n},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Y},ct=function(t,e,n){t===B&&ct(Q,e,n),d(t);var i=g(e,!0);return d(n),l(J,i)?(n.enumerable?(l(t,U)&&t[U][i]&&(t[U][i]=!1),n=w(n,{enumerable:m(0,!1)})):(l(t,U)||Z(t,U,m(1,{})),t[U][i]=!0),rt(t,i,n)):Z(t,i,n)},ut=function(t,e){d(t);var n=y(e),i=x(n).concat(dt(n));return j(i,(function(e){a&&!lt.call(n,e)||ct(t,e,n[e])})),t},ht=function(t,e){return void 0===e?w(t):ut(w(t),e)},lt=function(t){var e=g(t,!0),n=K.call(this,e);return!(this===B&&l(J,e)&&!l(Q,e))&&(!(n||!l(this,e)||!l(J,e)||l(this,U)&&this[U][e])||n)},pt=function(t,e){var n=y(t),i=g(e,!0);if(n!==B||!l(J,i)||l(Q,i)){var o=q(n,i);return!o||!l(J,i)||l(n,U)&&n[U][i]||(o.enumerable=!0),o}},ft=function(t){var e=$(y(t)),n=[];return j(e,(function(t){l(J,t)||l(C,t)||n.push(t)})),n},dt=function(t){var e=t===B,n=$(e?Q:y(t)),i=[];return j(n,(function(t){!l(J,t)||e&&!l(B,t)||i.push(J[t])})),i};if(c||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),n=function(t){this===B&&n.call(Q,t),l(this,U)&&l(this[U],e)&&(this[U][e]=!1),rt(this,e,m(1,t))};return a&&ot&&rt(B,e,{configurable:!0,set:n}),st(e,t)},P(Y[G],"toString",(function(){return V(this).tag})),P(Y,"withoutSetter",(function(t){return st(M(t),t)})),T.f=lt,E.f=ct,_.f=pt,b.f=A.f=ft,S.f=dt,L.f=function(t){return st(I(t),t)},a&&(Z(Y[G],"description",{configurable:!0,get:function(){return V(this).description}}),s||P(B,"propertyIsEnumerable",lt,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),j(x(nt),(function(t){R(t)})),i({target:F,stat:!0,forced:!c},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var n=Y(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!a},{create:ht,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:pt}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft,getOwnPropertySymbols:dt}),i({target:"Object",stat:!0,forced:h((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(v(t))}}),X){var vt=!c||h((function(){var t=Y();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))}));i({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,n){var i,o=[t],r=1;while(arguments.length>r)o.push(arguments[r++]);if(i=e,(f(e)||void 0!==t)&&!at(t))return p(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!at(e))return e}),o[1]=e,X.apply(null,o)}})}Y[G][W]||O(Y[G],W,Y[G].valueOf),D(Y,F),C[U]=!0},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},ab13:function(t,e,n){var i=n("b622"),o=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(i){}}return!1}},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,n){var i=n("83ab"),o=n("d039"),r=n("5135"),s=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(r(a,t))return a[t];e||(e={});var n=[][t],u=!!r(e,"ACCESSORS")&&e.ACCESSORS,h=r(e,0)?e[0]:c,l=r(e,1)?e[1]:void 0;return a[t]=!!n&&!o((function(){if(u&&!i)return!0;var t={length:-1};u?s(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,h,l)}))}},ae93:function(t,e,n){"use strict";var i,o,r,s=n("e163"),a=n("9112"),c=n("5135"),u=n("b622"),h=n("c430"),l=u("iterator"),p=!1,f=function(){return this};[].keys&&(r=[].keys(),"next"in r?(o=s(s(r)),o!==Object.prototype&&(i=o)):p=!0),void 0==i&&(i={}),h||c(i,l)||a(i,l,f),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},b041:function(t,e,n){"use strict";var i=n("00ee"),o=n("f5df");t.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(t,e,n){var i=n("83ab"),o=n("9bf2").f,r=Function.prototype,s=r.toString,a=/^\s*function ([^ (]*)/,c="name";i&&!(c in r)&&o(r,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},b575:function(t,e,n){var i,o,r,s,a,c,u,h,l=n("da84"),p=n("06cf").f,f=n("c6b6"),d=n("2cf4").set,v=n("1cdc"),y=l.MutationObserver||l.WebKitMutationObserver,g=l.process,m=l.Promise,w="process"==f(g),x=p(l,"queueMicrotask"),b=x&&x.value;b||(i=function(){var t,e;w&&(t=g.domain)&&t.exit();while(o){e=o.fn,o=o.next;try{e()}catch(n){throw o?s():r=void 0,n}}r=void 0,t&&t.enter()},w?s=function(){g.nextTick(i)}:y&&!v?(a=!0,c=document.createTextNode(""),new y(i).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):m&&m.resolve?(u=m.resolve(void 0),h=u.then,s=function(){h.call(u,i)}):s=function(){d.call(l,i)}),t.exports=b||function(t){var e={fn:t,next:void 0};r&&(r.next=e),o||(o=e,s()),r=e}},b622:function(t,e,n){var i=n("da84"),o=n("5692"),r=n("5135"),s=n("90e3"),a=n("4930"),c=n("fdbf"),u=o("wks"),h=i.Symbol,l=c?h:h&&h.withoutSetter||s;t.exports=function(t){return r(u,t)||(a&&r(h,t)?u[t]=h[t]:u[t]=l("Symbol."+t)),u[t]}},b65f:function(t,e,n){var i=n("23e7"),o=Math.ceil,r=Math.floor;i({target:"Math",stat:!0},{trunc:function(t){return(t>0?r:o)(t)}})},b727:function(t,e,n){var i=n("0366"),o=n("44ad"),r=n("7b0b"),s=n("50c4"),a=n("65f0"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,h=4==t,l=6==t,p=5==t||l;return function(f,d,v,y){for(var g,m,w=r(f),x=o(w),b=i(d,v,3),A=s(x.length),S=0,_=y||a,E=e?_(f,A):n?_(f,0):void 0;A>S;S++)if((p||S in x)&&(g=x[S],m=b(g,S,w),t))if(e)E[S]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return S;case 2:c.call(E,g)}else if(h)return!1;return l?-1:u||h?h:E}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},be8e:function(t,e,n){var i=n("f748"),o=Math.abs,r=Math.pow,s=r(2,-52),a=r(2,-23),c=r(2,127)*(2-a),u=r(2,-126),h=function(t){return t+1/s-1/s};t.exports=Math.fround||function(t){var e,n,r=o(t),l=i(t);return r<u?l*h(r/u/a)*u*a:(e=(1+a/s)*r,n=e-(e-r),n>c||n!=n?l*(1/0):l*n)}},c04e:function(t,e,n){var i=n("861d");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var i=n("da84"),o=n("ce4e"),r="__core-js_shared__",s=i[r]||o(r,{});t.exports=s},c8b5:function(t,e,n){var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(o,r,s,a){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],h=r.createElement("div"),l="function",p=Math.round,f=Math.abs,d=Date.now;function v(t,e,n){return setTimeout(A(t,n),e)}function y(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a){i=0;while(i<t.length)e.call(n,t[i],i,t),i++}else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function m(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=o.console&&(o.console.warn||o.console.log);return r&&r.call(o.console,i,n),t.apply(this,arguments)}}c="function"!==typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign;var w=m((function(t,e,n){var i=Object.keys(e),o=0;while(o<i.length)(!n||n&&t[i[o]]===a)&&(t[i[o]]=e[i[o]]),o++;return t}),"extend","Use `assign`."),x=m((function(t,e){return w(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var i,o=e.prototype;i=t.prototype=Object.create(o),i.constructor=t,i._super=o,n&&c(i,n)}function A(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==l?t.apply(e&&e[0]||a,e):t}function _(t,e){return t===a?e:t}function E(t,e,n){g(z(e),(function(e){t.addEventListener(e,n,!1)}))}function T(t,e,n){g(z(e),(function(e){t.removeEventListener(e,n,!1)}))}function O(t,e){while(t){if(t==e)return!0;t=t.parentNode}return!1}function P(t,e){return t.indexOf(e)>-1}function z(t){return t.trim().split(/\s+/g)}function k(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);var i=0;while(i<t.length){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function M(t,e,n){var i=[],o=[],r=0;while(r<t.length){var s=e?t[r][e]:t[r];k(o,s)<0&&i.push(t[r]),o[r]=s,r++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function I(t,e){var n,i,o=e[0].toUpperCase()+e.slice(1),r=0;while(r<u.length){if(n=u[r],i=n?n+o:e,i in t)return i;r++}return a}var L=1;function R(){return L++}function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var N=/mobile|tablet|ip(ad|hone|od)|android/i,j="ontouchstart"in o,U=I(o,"PointerEvent")!==a,F=j&&N.test(navigator.userAgent),G="touch",W="pen",H="mouse",V="kinect",B=25,Y=1,X=2,q=4,Z=8,$=1,K=2,J=4,Q=8,tt=16,et=K|J,nt=Q|tt,it=et|nt,ot=["x","y"],rt=["clientX","clientY"];function st(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function at(t){var e,n=t.options.inputClass;return e=n||(U?Pt:F?Dt:j?Ft:St),new e(t,ct)}function ct(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&Y&&i-o===0,s=e&(q|Z)&&i-o===0;n.isFirst=!!r,n.isFinal=!!s,r&&(t.session={}),n.eventType=e,ut(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function ut(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=pt(e)),o>1&&!n.firstMultiple?n.firstMultiple=pt(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,a=s?s.center:r.center,c=e.center=ft(i);e.timeStamp=d(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=gt(a,c),e.distance=yt(a,c),ht(n,e),e.offsetDirection=vt(e.deltaX,e.deltaY);var u=dt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=f(u.x)>f(u.y)?u.x:u.y,e.scale=s?wt(s.pointers,i):1,e.rotation=s?mt(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,lt(n,e);var h=t.element;O(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function ht(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==Y&&r.eventType!==q||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}function lt(t,e){var n,i,o,r,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(e.eventType!=Z&&(c>B||s.velocity===a)){var u=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,l=dt(c,u,h);i=l.x,o=l.y,n=f(l.x)>f(l.y)?l.x:l.y,r=vt(u,h),t.lastInterval=e}else n=s.velocity,i=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=r}function pt(t){var e=[],n=0;while(n<t.pointers.length)e[n]={clientX:p(t.pointers[n].clientX),clientY:p(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:ft(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ft(t){var e=t.length;if(1===e)return{x:p(t[0].clientX),y:p(t[0].clientY)};var n=0,i=0,o=0;while(o<e)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:p(n/e),y:p(i/e)}}function dt(t,e,n){return{x:e/t||0,y:n/t||0}}function vt(t,e){return t===e?$:f(t)>=f(e)?t<0?K:J:e<0?Q:tt}function yt(t,e,n){n||(n=ot);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function gt(t,e,n){n||(n=ot);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,i)/Math.PI}function mt(t,e){return gt(e[1],e[0],rt)+gt(t[1],t[0],rt)}function wt(t,e){return yt(e[0],e[1],rt)/yt(t[0],t[1],rt)}st.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(D(this.element),this.evWin,this.domHandler)}};var xt={mousedown:Y,mousemove:X,mouseup:q},bt="mousedown",At="mousemove mouseup";function St(){this.evEl=bt,this.evWin=At,this.pressed=!1,st.apply(this,arguments)}b(St,st,{handler:function(t){var e=xt[t.type];e&Y&&0===t.button&&(this.pressed=!0),e&X&&1!==t.which&&(e=q),this.pressed&&(e&q&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:H,srcEvent:t}))}});var _t={pointerdown:Y,pointermove:X,pointerup:q,pointercancel:Z,pointerout:Z},Et={2:G,3:W,4:H,5:V},Tt="pointerdown",Ot="pointermove pointerup pointercancel";function Pt(){this.evEl=Tt,this.evWin=Ot,st.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(Tt="MSPointerDown",Ot="MSPointerMove MSPointerUp MSPointerCancel"),b(Pt,st,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=_t[i],r=Et[t.pointerType]||t.pointerType,s=r==G,a=k(e,t.pointerId,"pointerId");o&Y&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(q|Z)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(a,1))}});var zt={touchstart:Y,touchmove:X,touchend:q,touchcancel:Z},kt="touchstart",Ct="touchstart touchmove touchend touchcancel";function Mt(){this.evTarget=kt,this.evWin=Ct,this.started=!1,st.apply(this,arguments)}function It(t,e){var n=C(t.touches),i=C(t.changedTouches);return e&(q|Z)&&(n=M(n.concat(i),"identifier",!0)),[n,i]}b(Mt,st,{handler:function(t){var e=zt[t.type];if(e===Y&&(this.started=!0),this.started){var n=It.call(this,t,e);e&(q|Z)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:G,srcEvent:t})}}});var Lt={touchstart:Y,touchmove:X,touchend:q,touchcancel:Z},Rt="touchstart touchmove touchend touchcancel";function Dt(){this.evTarget=Rt,this.targetIds={},st.apply(this,arguments)}function Nt(t,e){var n=C(t.touches),i=this.targetIds;if(e&(Y|X)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,s=C(t.changedTouches),a=[],c=this.target;if(r=n.filter((function(t){return O(t.target,c)})),e===Y){o=0;while(o<r.length)i[r[o].identifier]=!0,o++}o=0;while(o<s.length)i[s[o].identifier]&&a.push(s[o]),e&(q|Z)&&delete i[s[o].identifier],o++;return a.length?[M(r.concat(a),"identifier",!0),a]:void 0}b(Dt,st,{handler:function(t){var e=Lt[t.type],n=Nt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:G,srcEvent:t})}});var jt=2500,Ut=25;function Ft(){st.apply(this,arguments);var t=A(this.handler,this);this.touch=new Dt(this.manager,t),this.mouse=new St(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Gt(t,e){t&Y?(this.primaryTouch=e.changedPointers[0].identifier,Wt.call(this,e)):t&(q|Z)&&Wt.call(this,e)}function Wt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,o=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(o,jt)}}function Ht(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(e-o.x),s=Math.abs(n-o.y);if(r<=Ut&&s<=Ut)return!0}return!1}b(Ft,st,{handler:function(t,e,n){var i=n.pointerType==G,o=n.pointerType==H;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Gt.call(this,e,n);else if(o&&Ht.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Vt=I(h.style,"touchAction"),Bt=Vt!==a,Yt="compute",Xt="auto",qt="manipulation",Zt="none",$t="pan-x",Kt="pan-y",Jt=ee();function Qt(t,e){this.manager=t,this.set(e)}function te(t){if(P(t,Zt))return Zt;var e=P(t,$t),n=P(t,Kt);return e&&n?Zt:e||n?e?$t:Kt:P(t,qt)?qt:Xt}function ee(){if(!Bt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||o.CSS.supports("touch-action",n)})),t}Qt.prototype={set:function(t){t==Yt&&(t=this.compute()),Bt&&this.manager.element.style&&Jt[t]&&(this.manager.element.style[Vt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),te(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,o=P(i,Zt)&&!Jt[Zt],r=P(i,Kt)&&!Jt[Kt],s=P(i,$t)&&!Jt[$t];if(o){var a=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(a&&c&&u)return}if(!s||!r)return o||r&&n&et||s&&n&nt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ne=1,ie=2,oe=4,re=8,se=re,ae=16,ce=32;function ue(t){this.options=c({},this.defaults,t||{}),this.id=R(),this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=ne,this.simultaneous={},this.requireFail=[]}function he(t){return t&ae?"cancel":t&re?"end":t&oe?"move":t&ie?"start":""}function le(t){return t==tt?"down":t==Q?"up":t==K?"left":t==J?"right":""}function pe(t,e){var n=e.manager;return n?n.get(t):t}function fe(){ue.apply(this,arguments)}function de(){fe.apply(this,arguments),this.pX=null,this.pY=null}function ve(){fe.apply(this,arguments)}function ye(){ue.apply(this,arguments),this._timer=null,this._input=null}function ge(){fe.apply(this,arguments)}function me(){fe.apply(this,arguments)}function we(){ue.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function xe(t,e){return e=e||{},e.recognizers=_(e.recognizers,xe.defaults.preset),new Se(t,e)}ue.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(y(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=pe(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return y(t,"dropRecognizeWith",this)||(t=pe(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(y(t,"requireFailure",this))return this;var e=this.requireFail;return t=pe(t,this),-1===k(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(y(t,"dropRequireFailure",this))return this;t=pe(t,this);var e=k(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<re&&i(e.options.event+he(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=re&&i(e.options.event+he(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=ce},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(ce|ne)))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=ce);this.state&(se|ae|ce)&&(this.state=ne),this.state=this.process(e),this.state&(ie|oe|re|ae)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(fe,ue,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ie|oe),o=this.attrTest(t);return i&&(n&Z||!o)?e|ae:i||o?n&q?e|re:e&ie?e|oe:ie:ce}}),b(de,fe,{defaults:{event:"pan",threshold:10,pointers:1,direction:it},getTouchAction:function(){var t=this.options.direction,e=[];return t&et&&e.push(Kt),t&nt&&e.push($t),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&et?(o=0===r?$:r<0?K:J,n=r!=this.pX,i=Math.abs(t.deltaX)):(o=0===s?$:s<0?Q:tt,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return fe.prototype.attrTest.call(this,t)&&(this.state&ie||!(this.state&ie)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=le(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(ve,fe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ie)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),b(ye,ue,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Xt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(q|Z)&&!o)this.reset();else if(t.eventType&Y)this.reset(),this._timer=v((function(){this.state=se,this.tryEmit()}),e.time,this);else if(t.eventType&q)return se;return ce},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===se&&(t&&t.eventType&q?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(ge,fe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ie)}}),b(me,fe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:et|nt,pointers:1},getTouchAction:function(){return de.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(et|nt)?e=t.overallVelocity:n&et?e=t.overallVelocityX:n&nt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&t.eventType&q},emit:function(t){var e=le(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(we,ue,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[qt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Y&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=q)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||yt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&r?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=v((function(){this.state=se,this.tryEmit()}),e.interval,this),ie):se}return ce},failTimeout:function(){return this._timer=v((function(){this.state=ce}),this.options.interval,this),ce},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==se&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),xe.VERSION="2.0.7",xe.defaults={domEvents:!1,touchAction:Yt,enable:!0,inputTarget:null,inputClass:null,preset:[[ge,{enable:!1}],[ve,{enable:!1},["rotate"]],[me,{direction:et}],[de,{direction:et},["swipe"]],[we],[we,{event:"doubletap",taps:2},["tap"]],[ye]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var be=1,Ae=2;function Se(t,e){this.options=c({},xe.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=at(this),this.touchAction=new Qt(this,this.options.touchAction),_e(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function _e(t,e){var n,i=t.element;i.style&&(g(t.options.cssProps,(function(o,r){n=I(i.style,r),e?(t.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}function Ee(t,e){var n=r.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}Se.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Ae:be},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&se)&&(o=e.curRecognizer=null);var r=0;while(r<i.length)n=i[r],e.stopped===Ae||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(ie|oe|re)&&(o=e.curRecognizer=n),r++}},get:function(t){if(t instanceof ue)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(y(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(y(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,n=k(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return g(z(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==a){var n=this.handlers;return g(z(t),(function(t){e?n[t]&&n[t].splice(k(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&Ee(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};var i=0;while(i<n.length)n[i](e),i++}},destroy:function(){this.element&&_e(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(xe,{INPUT_START:Y,INPUT_MOVE:X,INPUT_END:q,INPUT_CANCEL:Z,STATE_POSSIBLE:ne,STATE_BEGAN:ie,STATE_CHANGED:oe,STATE_ENDED:re,STATE_RECOGNIZED:se,STATE_CANCELLED:ae,STATE_FAILED:ce,DIRECTION_NONE:$,DIRECTION_LEFT:K,DIRECTION_RIGHT:J,DIRECTION_UP:Q,DIRECTION_DOWN:tt,DIRECTION_HORIZONTAL:et,DIRECTION_VERTICAL:nt,DIRECTION_ALL:it,Manager:Se,Input:st,TouchAction:Qt,TouchInput:Dt,MouseInput:St,PointerEventInput:Pt,TouchMouseInput:Ft,SingleTouchInput:Mt,Recognizer:ue,AttrRecognizer:fe,Tap:we,Pan:de,Swipe:me,Pinch:ve,Rotate:ge,Press:ye,on:E,off:T,each:g,merge:x,extend:w,assign:c,inherit:b,bindFn:A,prefixed:I});var Te="undefined"!==typeof o?o:"undefined"!==typeof self?self:{};Te.Hammer=xe,i=function(){return xe}.call(e,n,e,t),i===a||(t.exports=i)})(window,document)},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var i=n("5135"),o=n("fc6a"),r=n("4d64").indexOf,s=n("d012");t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)!i(s,n)&&i(a,n)&&u.push(n);while(e.length>c)i(a,n=e[c++])&&(~r(u,n)||u.push(n));return u}},caad:function(t,e,n){"use strict";var i=n("23e7"),o=n("4d64").includes,r=n("44d2"),s=n("ae40"),a=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!a},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},cb29:function(t,e,n){var i=n("23e7"),o=n("81d5"),r=n("44d2");i({target:"Array",proto:!0},{fill:o}),r("fill")},cc12:function(t,e,n){var i=n("da84"),o=n("861d"),r=i.document,s=o(r)&&o(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},cdf9:function(t,e,n){var i=n("825a"),o=n("861d"),r=n("f069");t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=r.f(t),s=n.resolve;return s(e),n.promise}},ce4e:function(t,e,n){var i=n("da84"),o=n("9112");t.exports=function(t,e){try{o(i,t,e)}catch(n){i[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var i=n("428f"),o=n("da84"),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},d1e7:function(t,e,n){"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!i.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:i},d28b:function(t,e,n){var i=n("746f");i("iterator")},d2bb:function(t,e,n){var i=n("825a"),o=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(r){}return function(n,r){return i(n),o(r),e?t.call(n,r):n.__proto__=r,n}}():void 0)},d3b7:function(t,e,n){var i=n("00ee"),o=n("6eeb"),r=n("b041");i||o(Object.prototype,"toString",r,{unsafe:!0})},d44e:function(t,e,n){var i=n("9bf2").f,o=n("5135"),r=n("b622"),s=r("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},ddb0:function(t,e,n){var i=n("da84"),o=n("fdbc"),r=n("e260"),s=n("9112"),a=n("b622"),c=a("iterator"),u=a("toStringTag"),h=r.values;for(var l in o){var p=i[l],f=p&&p.prototype;if(f){if(f[c]!==h)try{s(f,c,h)}catch(v){f[c]=h}if(f[u]||s(f,u,l),o[l])for(var d in r)if(f[d]!==r[d])try{s(f,d,r[d])}catch(v){f[d]=r[d]}}}},df75:function(t,e,n){var i=n("ca84"),o=n("7839");t.exports=Object.keys||function(t){return i(t,o)}},e01a:function(t,e,n){"use strict";var i=n("23e7"),o=n("83ab"),r=n("da84"),s=n("5135"),a=n("861d"),c=n("9bf2").f,u=n("e893"),h=r.Symbol;if(o&&"function"==typeof h&&(!("description"in h.prototype)||void 0!==h().description)){var l={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new h(t):void 0===t?h():h(t);return""===t&&(l[e]=!0),e};u(p,h);var f=p.prototype=h.prototype;f.constructor=p;var d=f.toString,v="Symbol(test)"==String(h("test")),y=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=d.call(t);if(s(l,t))return"";var n=v?e.slice(7,-1):e.replace(y,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:p})}},e163:function(t,e,n){var i=n("5135"),o=n("7b0b"),r=n("f772"),s=n("e177"),a=r("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=o(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},e177:function(t,e,n){var i=n("d039");t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var i=n("fc6a"),o=n("44d2"),r=n("3f8c"),s=n("69f3"),a=n("7dd0"),c="Array Iterator",u=s.set,h=s.getterFor(c);t.exports=a(Array,"Array",(function(t,e){u(this,{type:c,target:i(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},e2cc:function(t,e,n){var i=n("6eeb");t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},e439:function(t,e,n){var i=n("23e7"),o=n("d039"),r=n("fc6a"),s=n("06cf").f,a=n("83ab"),c=o((function(){s(1)})),u=!a||c;i({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(r(t),e)}})},e538:function(t,e,n){var i=n("b622");e.f=i},e5e5:function(t,e,n){"use strict";var i=n("49b0"),o=n.n(i);o.a},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e6cf:function(t,e,n){"use strict";var i,o,r,s,a=n("23e7"),c=n("c430"),u=n("da84"),h=n("d066"),l=n("fea9"),p=n("6eeb"),f=n("e2cc"),d=n("d44e"),v=n("2626"),y=n("861d"),g=n("1c0b"),m=n("19aa"),w=n("c6b6"),x=n("8925"),b=n("2266"),A=n("1c7e"),S=n("4840"),_=n("2cf4").set,E=n("b575"),T=n("cdf9"),O=n("44de"),P=n("f069"),z=n("e667"),k=n("69f3"),C=n("94ca"),M=n("b622"),I=n("2d00"),L=M("species"),R="Promise",D=k.get,N=k.set,j=k.getterFor(R),U=l,F=u.TypeError,G=u.document,W=u.process,H=h("fetch"),V=P.f,B=V,Y="process"==w(W),X=!!(G&&G.createEvent&&u.dispatchEvent),q="unhandledrejection",Z="rejectionhandled",$=0,K=1,J=2,Q=1,tt=2,et=C(R,(function(){var t=x(U)!==String(U);if(!t){if(66===I)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!U.prototype["finally"])return!0;if(I>=51&&/native code/.test(U))return!1;var e=U.resolve(1),n=function(t){t((function(){}),(function(){}))},i=e.constructor={};return i[L]=n,!(e.then((function(){}))instanceof n)})),nt=et||!A((function(t){U.all(t)["catch"]((function(){}))})),it=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},ot=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;E((function(){var o=e.value,r=e.state==K,s=0;while(i.length>s){var a,c,u,h=i[s++],l=r?h.ok:h.fail,p=h.resolve,f=h.reject,d=h.domain;try{l?(r||(e.rejection===tt&&ct(t,e),e.rejection=Q),!0===l?a=o:(d&&d.enter(),a=l(o),d&&(d.exit(),u=!0)),a===h.promise?f(F("Promise-chain cycle")):(c=it(a))?c.call(a,p,f):p(a)):f(o)}catch(v){d&&!u&&d.exit(),f(v)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&st(t,e)}))}},rt=function(t,e,n){var i,o;X?(i=G.createEvent("Event"),i.promise=e,i.reason=n,i.initEvent(t,!1,!0),u.dispatchEvent(i)):i={promise:e,reason:n},(o=u["on"+t])?o(i):t===q&&O("Unhandled promise rejection",n)},st=function(t,e){_.call(u,(function(){var n,i=e.value,o=at(e);if(o&&(n=z((function(){Y?W.emit("unhandledRejection",i,t):rt(q,t,i)})),e.rejection=Y||at(e)?tt:Q,n.error))throw n.value}))},at=function(t){return t.rejection!==Q&&!t.parent},ct=function(t,e){_.call(u,(function(){Y?W.emit("rejectionHandled",t):rt(Z,t,e.value)}))},ut=function(t,e,n,i){return function(o){t(e,n,o,i)}},ht=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=J,ot(t,e,!0))},lt=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw F("Promise can't be resolved itself");var o=it(n);o?E((function(){var i={done:!1};try{o.call(n,ut(lt,t,i,e),ut(ht,t,i,e))}catch(r){ht(t,i,r,e)}})):(e.value=n,e.state=K,ot(t,e,!1))}catch(r){ht(t,{done:!1},r,e)}}};et&&(U=function(t){m(this,U,R),g(t),i.call(this);var e=D(this);try{t(ut(lt,this,e),ut(ht,this,e))}catch(n){ht(this,e,n)}},i=function(t){N(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:$,value:void 0})},i.prototype=f(U.prototype,{then:function(t,e){var n=j(this),i=V(S(this,U));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=Y?W.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=$&&ot(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i,e=D(t);this.promise=t,this.resolve=ut(lt,t,e),this.reject=ut(ht,t,e)},P.f=V=function(t){return t===U||t===r?new o(t):B(t)},c||"function"!=typeof l||(s=l.prototype.then,p(l.prototype,"then",(function(t,e){var n=this;return new U((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof H&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return T(U,H.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:et},{Promise:U}),d(U,R,!1,!0),v(R),r=h(R),a({target:R,stat:!0,forced:et},{reject:function(t){var e=V(this);return e.reject.call(void 0,t),e.promise}}),a({target:R,stat:!0,forced:c||et},{resolve:function(t){return T(c&&this===r?U:this,t)}}),a({target:R,stat:!0,forced:nt},{all:function(t){var e=this,n=V(e),i=n.resolve,o=n.reject,r=z((function(){var n=g(e.resolve),r=[],s=0,a=1;b(t,(function(t){var c=s++,u=!1;r.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,r[c]=t,--a||i(r))}),o)})),--a||i(r)}));return r.error&&o(r.value),n.promise},race:function(t){var e=this,n=V(e),i=n.reject,o=z((function(){var o=g(e.resolve);b(t,(function(t){o.call(e,t).then(n.resolve,i)}))}));return o.error&&i(o.value),n.promise}})},e893:function(t,e,n){var i=n("5135"),o=n("56ef"),r=n("06cf"),s=n("9bf2");t.exports=function(t,e){for(var n=o(e),a=s.f,c=r.f,u=0;u<n.length;u++){var h=n[u];i(t,h)||a(t,h,c(e,h))}}},e8b5:function(t,e,n){var i=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},e95a:function(t,e,n){var i=n("b622"),o=n("3f8c"),r=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[r]===t)}},f069:function(t,e,n){"use strict";var i=n("1c0b"),o=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new o(t)}},f5df:function(t,e,n){var i=n("00ee"),o=n("c6b6"),r=n("b622"),s=r("toStringTag"),a="Arguments"==o(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=i?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=Object(t),s))?n:a?o(e):"Object"==(i=o(e))&&"function"==typeof e.callee?"Arguments":i}},f664:function(t,e,n){var i=n("23e7"),o=n("be8e");i({target:"Math",stat:!0},{fround:o})},f748:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},f772:function(t,e,n){var i=n("5692"),o=n("90e3"),r=i("keys");t.exports=function(t){return r[t]||(r[t]=o(t))}},fb15:function(t,e,n){"use strict";if(n.r(e),"undefined"!==typeof window){var i=window.document.currentScript,o=n("8875");i=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var r=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(n.p=r[1])}var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"canvasDrawingWrapper",style:t.maxSizeCanvasCSS},[n("div",{staticClass:"canvasDrawingContainer"},[n("canvas",{staticClass:"canvasDrawing",attrs:{id:this.canvasId}},[t._v("DrawApp")])])])},a=[];function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}n("4ae1"),n("3410");function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}n("d3b7"),n("25f0");function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("3ca3"),n("ddb0");function v(t){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return!e||"object"!==v(e)&&"function"!==typeof e?y(t):e}function m(t){var e=d();return function(){var n,i=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return g(this,n)}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function w(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}var x=n("8bbf"),b=n.n(x);
/**
  * vue-class-component v7.2.5
  * (c) 2015-present Evan You
  * @license MIT
  */
function A(t){return A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){return E(t)||T(t)||O()}function E(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function T(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function P(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function z(t,e){k(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){k(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){k(t,e,n)}))}function k(t,e,n){var i=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);i.forEach((function(i){var o=n?Reflect.getOwnMetadata(i,e,n):Reflect.getOwnMetadata(i,e);n?Reflect.defineMetadata(i,o,t,n):Reflect.defineMetadata(i,o,t)}))}var C={__proto__:[]},M=C instanceof Array;function I(t){return function(e,n,i){var o="function"===typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!==typeof i&&(i=void 0),o.__decorators__.push((function(e){return t(e,n,i)}))}}function L(t){var e=A(t);return null==t||"object"!==e&&"function"!==e}function R(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var i in t.$options.props)t.hasOwnProperty(i)||n.push(i);n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var i=new e;e.prototype._init=n;var o={};return Object.keys(i).forEach((function(t){void 0!==i[t]&&(o[t]=i[t])})),o}var D=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(D.indexOf(t)>-1)e[t]=n[t];else{var i=Object.getOwnPropertyDescriptor(n,t);void 0!==i.value?"function"===typeof i.value?(e.methods||(e.methods={}))[t]=i.value:(e.mixins||(e.mixins=[])).push({data:function(){return S({},t,i.value)}}):(i.get||i.set)&&((e.computed||(e.computed={}))[t]={get:i.get,set:i.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return R(this,t)}});var i=t.__decorators__;i&&(i.forEach((function(t){return t(e)})),delete t.__decorators__);var o=Object.getPrototypeOf(t.prototype),r=o instanceof b.a?o.constructor:b.a,s=r.extend(e);return U(s,t,r),P()&&z(s,t),s}var j={prototype:!0,arguments:!0,callee:!0,caller:!0};function U(t,e,n){Object.getOwnPropertyNames(e).forEach((function(i){if(!j[i]){var o=Object.getOwnPropertyDescriptor(t,i);if(!o||o.configurable){var r=Object.getOwnPropertyDescriptor(e,i);if(!M){if("cid"===i)return;var s=Object.getOwnPropertyDescriptor(n,i);if(!L(r.value)&&s&&s.value===r.value)return}0,Object.defineProperty(t,i,r)}}}))}function F(t){return"function"===typeof t?N(t):function(e){return N(e,t)}}F.registerHooks=function(t){D.push.apply(D,_(t))};var G=F;var W="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function H(t,e,n){if(W&&!Array.isArray(t)&&"function"!==typeof t&&"undefined"===typeof t.type){var i=Reflect.getMetadata("design:type",e,n);i!==Object&&(t.type=i)}}function V(t){return void 0===t&&(t={}),function(e,n){H(t,e,n),I((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}n("4160"),n("caad"),n("2532"),n("159b"),n("e439"),n("5d41");function B(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=f(t),null===t)break;return t}function Y(t,e,n){return Y="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=B(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},Y(t,e,n||t)}n("b0c0");var X=function(){function t(e,n){var i=this;c(this,t),this.drawApp=e,this.toolType=n,this.name=this.toolType.toString(),this.event=new Event(this.name),this._dragging=!1,this.canRun=!0,e.canvas.addEventListener(this.name,(function(){return i.onAction()}))}return h(t,[{key:"onAction",value:function(){this.canRun=this.drawApp.mouse.button!==Ct.RIGHT}}]),t}();n("4057"),n("b65f"),n("45fc"),n("e6cf"),n("96cf");function q(t,e,n,i,o,r,s){try{var a=t[r](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(i,o)}function Z(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function s(t){q(r,i,o,s,a,"next",t)}function a(t){q(r,i,o,s,a,"throw",t)}s(void 0)}))}}function $(t,e){return!!e.some((function(e){return e.x===t.x&&e.y===t.y}))||(e.push(t),!1)}function K(t){var e=n("1f35");try{return e("./"+t+".svg")}catch(i){return"nullimage"}}function J(t){return Q.apply(this,arguments)}function Q(){return Q=Z(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){fetch(K(e)).then((function(t){if(!t.url.includes("nullimage"))return t.url;n(new Error('Image "'.concat(e,'" cannot be loaded')))})).then((function(e){var n=new Image;n.src=e,t(n)}))})));case 1:case"end":return t.stop()}}),t)}))),Q.apply(this,arguments)}function tt(t,e,n){if(mt(t,{x:0,y:0},{x:e.settings.gridSize-1,y:e.settings.gridSize-1})){if(t.x+1<e.settings.gridSize&&!n.some((function(e){return e.x-1===t.x&&e.y===t.y}))){var i={x:t.x+1,y:t.y};$(i,n),tt(i,e,n)}if(t.x-1>=0&&!n.some((function(e){return e.x+1===t.x&&e.y===t.y}))){var o={x:t.x-1,y:t.y};$(o,n),tt(o,e,n)}if(t.y+1<e.settings.gridSize&&!n.some((function(e){return e.x===t.x&&e.y-1===t.y}))){var r={x:t.x,y:t.y+1};$(r,n),tt(r,e,n)}if(t.y-1>=0&&!n.some((function(e){return e.x===t.x&&e.y+1===t.y}))){var s={x:t.x,y:t.y-1};$(s,n),tt(s,e,n)}}}function et(t,e,n,i){if(mt(t,{x:0,y:0},{x:e.settings.gridSize-1,y:e.settings.gridSize-1})){if(t.x+1<e.settings.gridSize&&e.data.pixels[t.x+1][t.y]===i&&!n.some((function(e){return e.x-1===t.x&&e.y===t.y}))){var o={x:t.x+1,y:t.y};$(o,n),et(o,e,n,i)}if(t.x-1>=0&&e.data.pixels[t.x-1][t.y]===i&&!n.some((function(e){return e.x+1===t.x&&e.y===t.y}))){var r={x:t.x-1,y:t.y};$(r,n),et(r,e,n,i)}if(t.y+1<e.settings.gridSize&&e.data.pixels[t.x][t.y+1]===i&&!n.some((function(e){return e.x===t.x&&e.y-1===t.y}))){var s={x:t.x,y:t.y+1};$(s,n),et(s,e,n,i)}if(t.y-1>=0&&e.data.pixels[t.x][t.y-1]===i&&!n.some((function(e){return e.x===t.x&&e.y+1===t.y}))){var a={x:t.x,y:t.y-1};$(a,n),et(a,e,n,i)}}}function nt(t){return!(t.mouse.dataPosition.x<0||t.mouse.dataPosition.x>=t.settings.gridSize||t.mouse.dataPosition.y<0||t.mouse.dataPosition.y>=t.settings.gridSize||t.mouse.position.x<0||t.mouse.position.x>=t.canvas.width||t.mouse.position.y<0||t.mouse.position.y>=t.canvas.height)}function it(t){return{x:Math.trunc(-t.zoom.offset.x/t.zoom.level),y:Math.trunc(-t.zoom.offset.y/t.zoom.level)}}function ot(t){return{x:Math.trunc((t.canvas.width-t.zoom.offset.x)/t.zoom.level),y:Math.trunc((t.canvas.height-t.zoom.offset.y)/t.zoom.level)}}function rt(t,e){return t.x!==e.x||t.y!==e.y}var st={x:0,y:0};function at(t,e){return{x:t.x/e.x,y:t.y/e.x}}function ct(t){return{x:Math.abs(t.x),y:Math.abs(t.y)}}function ut(t){return{x:Math.trunc(t.x),y:Math.trunc(t.y)}}function ht(t){return{x:Math.ceil(t.x),y:Math.ceil(t.y)}}function lt(t,e,n){return t<e?e:t>n?n:t}function pt(t,e,n){return{x:lt(t.x,e.x,n.x),y:lt(t.y,e.y,n.y)}}function ft(t,e){return{x:t.x*e.settings.pixelSize,y:t.y*e.settings.pixelSize}}function dt(t,e){return{x:lt(Math.trunc(t.x/e.settings.pixelSize),0,e.settings.gridSize-1),y:lt(Math.trunc(t.y/e.settings.pixelSize),0,e.settings.gridSize-1)}}function vt(t,e,n){return(1-n)*t+n*e}function yt(t,e,n,i){if(nt(t))for(var o=dt(e,t),r=dt(n,t),s=Math.max(Math.trunc(Math.abs(o.x-r.x)),Math.trunc(Math.abs(o.y-r.y))),a=1/s,c=a;c<=1;c+=a){var u={x:Math.trunc(vt(r.x,o.x,c)),y:Math.trunc(vt(r.y,o.y,c))};i(u)}}function gt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function mt(t,e,n){return t.x>=e.x&&t.x<=n.x&&t.y>=e.y&&t.y<=n.y}n("99af");function wt(t){var e={H:t.H,S:t.S/100,V:t.V/100},n={H:e.H,S:void 0,L:void 0};return n.L=e.V*(1-e.S/2),0===n.L||1===n.L?n.S=0:n.S=(e.V-n.L)/Math.min(n.L,1-n.L),n.L=Math.ceil(100*n.L),n.S=Math.ceil(100*n.S),n}function xt(t){return"hsl(".concat(t.H,", ").concat(t.S,"%, ").concat(t.L,"%)")}function bt(t){for(var e="#",n=0;n<3;n++){var i=t[n].toString(16);1===i.length&&(i="0"+i),e+=i}return e}var At;n("a434");(function(t){t[t["Vector"]=0]="Vector",t[t["Array"]=1]="Array"})(At||(At={}));var St,_t=function(){function t(e,n){c(this,t),this._drawApp=e,this._gridSize=n,this._initData()}return h(t,[{key:"_initData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ffffff",e=!1;if(void 0!==("undefined"===typeof Storage?"undefined":v(Storage))&&localStorage.pixels){var n=JSON.parse(localStorage.pixels);n.length===this._gridSize&&(this.pixels=n,e=!0)}if(!e){this.pixels=[];for(var i=0;i<this._gridSize;i++){this.pixels[i]=[];for(var o=0;o<this._gridSize;o++)this.pixels[i][o]=t}}this.lastAction=[],this.lastActionIndex=-1}},{key:"saveLocalStorage",value:function(){void 0!==("undefined"===typeof Storage?"undefined":v(Storage))&&(localStorage.pixels=JSON.stringify(this.pixels))}},{key:"clearData",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ffffff",e={positions:[],colors:[],type:At.Array},n=0;n<this._gridSize;n++)for(var i=0;i<this._gridSize;i++)e.positions.push({x:n,y:i}),e.colors.push(this.pixels[n][i]),this.pixels[n][i]=t;this._checkLastActionAndWrite(e),this.saveLocalStorage()}},{key:"_checkLastActionAndWrite",value:function(t){this.lastActionIndex+1!==this.lastAction.length&&this.lastAction.splice(this.lastActionIndex+1),void 0!==this.lastAction[this.lastActionIndex+1]?this.lastAction[this.lastActionIndex+1]=t:this.lastAction.push(t),this.lastActionIndex++}},{key:"writeData",value:function(t){var e=this;if(void 0!==this.pixels||void 0!==t){if(t.type===At.Vector)this._checkPixelAndPaint(t.position,t.color);else if(t.type===At.Array){var n={positions:[],colors:[],type:At.Array};t.positions.forEach((function(t){mt(t,{x:0,y:0},{x:e._gridSize-1,y:e._gridSize-1})&&(n.positions.push({x:t.x,y:t.y}),n.colors.push(e.pixels[t.x][t.y]))})),this._checkLastActionAndWrite(n),t.positions.forEach((function(n,i){if(null!==n){var o=t.color?t.color:t.colors[i];e._checkPixelAndPaint(n,o)}}))}this.saveLocalStorage()}}},{key:"_checkPixelAndPaint",value:function(t,e){mt(t,{x:0,y:0},{x:this._gridSize-1,y:this._gridSize-1})&&(this._drawApp.ctx.fillStyle=e,this.pixels[lt(t.x,0,this._gridSize-1)][lt(t.y,0,this._gridSize-1)]=this._drawApp.ctx.fillStyle.substr(1))}},{key:"canUndo",value:function(){return this.lastActionIndex>=0}},{key:"undo",value:function(){var t=this;if(this.canUndo()){var e=this.lastAction[this.lastActionIndex];this.lastActionIndex--;var n=[],i=[];e.positions.forEach((function(o,r){n.push(o),i.push(t.pixels[o.x][o.y]),t.pixels[o.x][o.y]=e.colors[r]})),this.lastAction[this.lastActionIndex+1]={positions:n,colors:i,type:At.Array},this.saveLocalStorage()}}},{key:"canRedo",value:function(){return this.lastActionIndex+1<this.lastAction.length}},{key:"redo",value:function(){var t=this;if(this.canRedo()){this.lastActionIndex++;var e=this.lastAction[this.lastActionIndex],n=[],i=[];e.positions.forEach((function(o,r){n.push(o),i.push(t.pixels[o.x][o.y]),t.pixels[o.x][o.y]=e.colors[r]})),this.lastAction[this.lastActionIndex]={positions:n,colors:i,type:At.Array},this.saveLocalStorage()}}}],[{key:"FlushDuplicatedData",value:function(t,e){for(var n=[],i=0;i<e;i++)n[i]=[];t.positions.forEach((function(i,o){mt(i,{x:0,y:0},{x:e-1,y:e-1})&&(n[i.x][i.y]=t.colors[o])})),t.positions=[],t.colors=[];for(var o=0;o<e;o++)for(var r=0;r<e;r++)void 0!==n[o][r]&&(t.positions.push({x:o,y:r}),t.colors.push(n[o][r]));return t}}]),t}(),Et=function(t){p(n,t);var e=m(n);function n(t,i){var o;return c(this,n),o=e.call(this,t,i),o.rainbow=!1,o.size=1,o._pixelPoints={positions:[],colors:[],type:At.Array},o}return h(n,[{key:"onAction",value:function(){var t=this;Y(f(n.prototype),"onAction",this).call(this),this.canRun&&(this.drawApp.mouse.button===Ct.LEFT?this._dragging?rt(this.drawApp.mouse.position,this.drawApp.mouse.lastPosition)&&yt(this.drawApp,this.drawApp.mouse.position,this.drawApp.mouse.lastPosition,(function(e){return t._pencilTool(e)})):(this._dragging=!0,this._pencilTool(dt(this.drawApp.mouse.position,this.drawApp))):(this._pixelPoints.positions.length>0&&(this._pixelPoints=_t.FlushDuplicatedData(this._pixelPoints,this.drawApp.settings.gridSize),this.drawApp.data.writeData(this._pixelPoints),this._pixelPoints={positions:[],colors:[],type:At.Array}),this._dragging=!1))}},{key:"_pencilTool",value:function(t){var e,n=this;if(this.rainbowColor++,this.rainbowColor>this.drawApp.settings.numColors-1&&(this.rainbowColor=0),e=this.rainbow?xt(wt({H:360*this.rainbowColor/this.drawApp.settings.numColors,S:100,V:100})):this.drawApp.toolSelector.colorSelected,this.drawApp.ctx.fillStyle=e,e=this.drawApp.ctx.fillStyle,1===this.size)this.drawApp.paintCanvas(ft(t,this.drawApp),this.drawApp.settings.showGrid,e),this._pixelPoints.positions.push(t),this._pixelPoints.colors.push(e);else{var i=[{x:t.x-1,y:t.y},{x:t.x+1,y:t.y},{x:t.x,y:t.y-1},{x:t.x,y:t.y+1},{x:t.x,y:t.y}];i.forEach((function(t){n._pixelPoints.positions.push(t),n._pixelPoints.colors.push(e),n.drawApp.paintCanvas(ft(t,n.drawApp),n.drawApp.settings.showGrid,e)}))}this.drawApp.gui.reloadRelativeGUI()}}]),n}(X),Tt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"onAction",value:function(){if(Y(f(n.prototype),"onAction",this).call(this),this.canRun)if(this.drawApp.mouse.button===Ct.NONE){if(this._dragging){this._dragging=!1,this.drawApp.ctx.fillStyle=this.drawApp.toolSelector.colorSelected;var t={positions:[],color:this.drawApp.ctx.fillStyle,type:At.Array},e=this.drawApp.mouse.dataPosition;t.positions.push(e),et(e,this.drawApp,t.positions,this.drawApp.data.pixels[e.x][e.y]),this.drawApp.data.writeData(t),this.drawApp.reloadCanvas()}}else this.drawApp.mouse.button===Ct.LEFT&&(this._dragging?this._dragging:this._dragging=!0)}}]),n}(X),Ot=(n("7db0"),function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"onAction",value:function(){if(Y(f(n.prototype),"onAction",this).call(this),this.canRun)if(this.drawApp.mouse.button===Ct.NONE){if(this._dragging){this._dragging=!1,this.drawApp.toolSelector.colorSelected="#"+this.drawApp.data.pixels[this.drawApp.mouse.dataPosition.x][this.drawApp.mouse.dataPosition.y];var t=this.drawApp.toolSelector.tools.find((function(t){return t.toolType===St.PENCIL}));t.rainbow=!1}}else this.drawApp.mouse.button===Ct.LEFT&&(this._dragging?this._dragging:this._dragging=!0)}}]),n}(X)),Pt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"onAction",value:function(){if(Y(f(n.prototype),"onAction",this).call(this),this.canRun){if(this.drawApp.mouse.button===Ct.NONE)return this._dragging=!1,void this.drawApp.toolSelector.restoreTool();if(this._dragging){if(this._dragging&&this.drawApp.zoom.level!==this.drawApp.zoom.minLevel){var t={x:this.drawApp.zoom.offset.x-(this.firstPoint.x-this.drawApp.mouse.realPosition.x),y:this.drawApp.zoom.offset.y-(this.firstPoint.y-this.drawApp.mouse.realPosition.y)};t.x<=0&&this.drawApp.canvas.width<t.x+this.drawApp.canvas.width*this.drawApp.zoom.level&&(this.drawApp.zoom.offset.x=t.x),t.y<=0&&this.drawApp.canvas.height<t.y+this.drawApp.canvas.height*this.drawApp.zoom.level&&(this.drawApp.zoom.offset.y=t.y),this.firstPoint=this.drawApp.mouse.realPosition,this.drawApp.reloadCanvas()}}else this._dragging=!0,this.firstPoint=this.drawApp.mouse.realPosition}}}]),n}(X),zt=function(t){p(n,t);var e=m(n);function n(t,i,o){var r;return c(this,n),r=e.call(this,t,i),r.level=o.level,r.maxLevel=o.maxLevel,r.minLevel=o.minLevel,r.offset={x:0,y:0},r.position={x:0,y:0},r.stepsMouseWheel=o.stepsMouseWheel,r}return h(n,[{key:"zoomIn",value:function(){this._zoomScaled(this.drawApp.mouse.scrollStep)}},{key:"zoomOut",value:function(){this._zoomScaled(-this.drawApp.mouse.scrollStep)}},{key:"_zoomScaled",value:function(t){var e={x:this.drawApp.mouse.relativeRealPosition.x/this.drawApp.canvas.width,y:this.drawApp.mouse.relativeRealPosition.y/this.drawApp.canvas.height};this.level=lt(Math.round(10*(this.level+t))/10,this.minLevel,this.maxLevel),this.offset={x:-lt(this.drawApp.canvas.width*this.level*e.x-this.drawApp.mouse.realPosition.x,0,this.drawApp.canvas.width*this.level-this.drawApp.canvas.width),y:-lt(this.drawApp.canvas.height*this.level*e.y-this.drawApp.mouse.realPosition.y,0,this.drawApp.canvas.height*this.level-this.drawApp.canvas.height)},this.drawApp.reloadCanvas()}},{key:"onAction",value:function(){Y(f(n.prototype),"onAction",this).call(this),this.canRun&&this.drawApp.mouse.button===Ct.NONE&&(this.drawApp.mouse.scroll===Mt.UP?this.zoomIn():this.drawApp.mouse.scroll===Mt.DOWN&&this.drawApp.zoom.level!==this.drawApp.zoom.minLevel&&this.zoomOut())}}]),n}(X),kt=(n("cb29"),function(t){p(n,t);var e=m(n);function n(t,i){var o;return c(this,n),o=e.call(this,t,i),o._circlePixels=[],o.fill=!1,o}return h(n,[{key:"onAction",value:function(){Y(f(n.prototype),"onAction",this).call(this),this.canRun&&(this.drawApp.mouse.button===Ct.NONE?this._dragging&&(this._circlePixels.length>1&&(this.drawApp.ctx.fillStyle=this.drawApp.toolSelector.colorSelected,this.drawApp.data.writeData({positions:this._circlePixels,color:this.drawApp.ctx.fillStyle,type:At.Array})),this.drawApp.reloadCanvas(),this._dragging=!1):this.drawApp.mouse.button===Ct.LEFT&&(this._dragging?this._dragging&&(this.drawApp.mouse.position.x===this.drawApp.mouse.lastPosition.x&&this.drawApp.mouse.position.y===this.drawApp.mouse.lastPosition.y||(this.drawApp.reloadCanvas(),this._circle())):(this.centerCircle=this.drawApp.mouse.dataPosition,this._draw(this.centerCircle),this._dragging=!0)))}},{key:"_circle",value:function(){var t=this;if(this._dragging){var e=Math.max(Math.abs(this.centerCircle.x-this.drawApp.mouse.dataPosition.x),Math.abs(this.centerCircle.y-this.drawApp.mouse.dataPosition.y));if(e<1)this._draw(this.centerCircle);else{var n=(5-4*e)/4,i=e;this._circlePixels=[];for(var o=0;o<=i;o++)$({x:this.centerCircle.x+o,y:this.centerCircle.y+i},this._circlePixels),$({x:this.centerCircle.x+o,y:this.centerCircle.y-i},this._circlePixels),$({x:this.centerCircle.x-o,y:this.centerCircle.y+i},this._circlePixels),$({x:this.centerCircle.x-o,y:this.centerCircle.y-i},this._circlePixels),$({x:this.centerCircle.x+i,y:this.centerCircle.y+o},this._circlePixels),$({x:this.centerCircle.x+i,y:this.centerCircle.y-o},this._circlePixels),$({x:this.centerCircle.x-i,y:this.centerCircle.y+o},this._circlePixels),$({x:this.centerCircle.x-i,y:this.centerCircle.y-o},this._circlePixels),n<0?n+=2*o+1:(n+=2*(o-i)+1,i--);this.fill&&($(this.centerCircle,this._circlePixels),tt(this.centerCircle,this.drawApp,this._circlePixels)),this._circlePixels.forEach((function(e){return t._draw(e)}))}}}},{key:"_draw",value:function(t){this.drawApp.paintCanvas(ft(t,this.drawApp),this.drawApp.settings.showGrid),this.drawApp.gui.reloadRelativeGUI()}}]),n}(X));(function(t){t[t["NONE"]=-1]="NONE",t[t["PENCIL"]=0]="PENCIL",t[t["BUCKET"]=1]="BUCKET",t[t["COLOUR_PICKER"]=2]="COLOUR_PICKER",t[t["MOVE"]=3]="MOVE",t[t["ZOOM"]=4]="ZOOM",t[t["CIRCLE"]=5]="CIRCLE",t[t["GRID"]=6]="GRID",t[t["CLEAR"]=7]="CLEAR"})(St||(St={}));var Ct,Mt,It=function(){function t(e){c(this,t),this.startTool=St.PENCIL,this.selected=-1,this.previousSelected=-1,this.colorSelected="000000",this.tools=[],this.tools.push(new Et(e,St.PENCIL)),this.tools.push(new Tt(e,St.BUCKET)),this.tools.push(new Ot(e,St.COLOUR_PICKER)),this.tools.push(new Pt(e,St.MOVE)),this.tools.push(new zt(e,St.ZOOM,{level:1,minLevel:1,maxLevel:8,stepsMouseWheel:.1})),this.tools.push(new kt(e,St.CIRCLE))}return h(t,[{key:"restoreTool",value:function(){-1!==this.previousSelected&&(this.selected=this.previousSelected,this.previousSelected=-1)}},{key:"tool",get:function(){return this.selected>=0?this.tools[this.selected]:void 0}},{key:"selectTool",set:function(t){this.selected!==t.valueOf()&&(this.previousSelected=this.selected,this.selected=t.valueOf())}}]),t}();(function(t){t[t["NONE"]=-1]="NONE",t[t["LEFT"]=0]="LEFT",t[t["MIDDLE"]=1]="MIDDLE",t[t["RIGHT"]=2]="RIGHT"})(Ct||(Ct={})),function(t){t[t["NONE"]=-1]="NONE",t[t["UP"]=0]="UP",t[t["DOWN"]=1]="DOWN"}(Mt||(Mt={}));var Lt,Rt=function(){function t(e){c(this,t),this._drawApp=e,this.button=Ct.NONE,this.scroll=Mt.NONE,this.moving=!1,this.realPosition={x:0,y:0},this.lastPosition=null,this.scrollStep=.1}return h(t,[{key:"mouseDownLeft",value:function(){this.button=Ct.LEFT}},{key:"mouseDownRight",value:function(){this.button=Ct.RIGHT,this._drawApp.gui.toolbox.toggle()}},{key:"mouseUpLeft",value:function(){this.button=Ct.NONE}},{key:"mouseUpRight",value:function(){this.button=Ct.NONE}},{key:"mouseWheelButtonDown",value:function(){this.button=Ct.MIDDLE,this._drawApp.toolSelector.selectTool=St.MOVE}},{key:"mouseWheelButtonUp",value:function(){this.button=Ct.NONE}},{key:"mouseWheelDown",value:function(){this.button===Ct.NONE&&(this.scroll=Mt.DOWN,this._drawApp.toolSelector.selectTool=St.ZOOM)}},{key:"mouseWheelUp",value:function(){this.button===Ct.NONE&&(this.scroll=Mt.UP,this._drawApp.toolSelector.selectTool=St.ZOOM)}},{key:"mouseMove",value:function(t){this.realPosition=t}},{key:"mouseLeave",value:function(){this.button=Ct.NONE}},{key:"position",get:function(){return ft(this.dataPosition,this._drawApp)}},{key:"relativeRealPosition",get:function(){var t={x:this.realPosition.x,y:this.realPosition.y};return t.x-=this._drawApp.zoom.offset.x,t.x/=this._drawApp.zoom.level,t.y-=this._drawApp.zoom.offset.y,t.y/=this._drawApp.zoom.level,t}},{key:"dataPosition",get:function(){return dt(this.relativeRealPosition,this._drawApp)}}]),t}(),Dt=function(){function t(e){var n=this;c(this,t),this._drawApp=e,window.addEventListener("resize",(function(){return n.onResizeWindow(n._drawApp)})),this._drawApp.canvas.addEventListener("mousedown",(function(t){return n.onMouseDown(t)})),this._drawApp.canvas.addEventListener("mouseup",(function(t){return n.onMouseUp(t)})),this._drawApp.canvas.addEventListener("wheel",(function(t){return n.onMouseWheel(t)})),this._drawApp.canvas.addEventListener("mousemove",(function(t){return n.onMouseMove(t)})),this._drawApp.canvas.addEventListener("mouseenter",(function(t){return n.onMouseEnter(t)})),this._drawApp.canvas.addEventListener("contextmenu",(function(t){return n.onContextMenu(t)})),this._drawApp.canvas.addEventListener("touchstart",(function(t){return t.cancelable?t.preventDefault():null})),this._drawApp.canvas.addEventListener("touchmove",(function(t){return t.cancelable?t.preventDefault():null})),this._drawApp.canvas.addEventListener("touchend",(function(t){return n.onTouchEnd(t)})),this._drawApp.touch.mc.on("press",(function(t){return n.onTouchPress(t)})),this._drawApp.touch.mc.on("move",(function(t){return n.onTouchMove(t)})),this._drawApp.touch.mc.on("twofingerspanmove twofingerspinchmove",(function(t){return n.onTwoFingersMove(t)})),this._drawApp.touch.mc.on("twofingerstap",(function(t){return n.onTwoFingersTap(t)}))}return h(t,[{key:"onTouchEnd",value:function(t){var e=this;t.cancelable&&t.preventDefault(),this._drawApp.touch.touchEnd((function(t){return e.onButtonUp({button:e._drawApp.mouse.button,position:t})}))}},{key:"onTouchPress",value:function(t){var e=this;this._drawApp.touch.touchPress(t,(function(t){return e.onButtonDown({button:Ct.LEFT,position:t})}))}},{key:"onTouchMove",value:function(t){var e=this;this._drawApp.touch.touchMove(t,(function(t){return e.onMove({button:Ct.LEFT,position:t})}))}},{key:"onTwoFingersMove",value:function(t){var e=this;this._drawApp.touch.touchTwoFingers(t,(function(t){return e.onButtonDown({button:Ct.MIDDLE,position:t})}),(function(t,n){return e.onZoom({button:Ct.MIDDLE,position:t,scroll:n?-1:1})}))}},{key:"onTwoFingersTap",value:function(t){var e=this;this._drawApp.touch.touchTwoFingersTap(t,(function(){return e.onButtonDown({button:Ct.RIGHT,position:st})}))}},{key:"onMouseDown",value:function(t){t.preventDefault(),this.onButtonDown({button:t.button,position:{x:t.offsetX,y:t.offsetY}})}},{key:"onButtonDown",value:function(t){var e=this._drawApp.mouse;this._setupMousePosition(t.position),t.button===Ct.LEFT?e.mouseDownLeft():t.button===Ct.RIGHT?e.mouseDownRight():t.button===Ct.MIDDLE&&e.mouseWheelButtonDown(),e.button!==Ct.NONE&&this._dispatchEvent()}},{key:"onMouseUp",value:function(t){t.preventDefault(),this.onButtonUp({button:t.button,position:{x:t.offsetX,y:t.offsetY}})}},{key:"onButtonUp",value:function(t){var e=this._drawApp.mouse;this._setupMousePosition(t.position),t.button===Ct.LEFT?e.mouseUpLeft():t.button===Ct.RIGHT?(e.mouseUpRight(),void 0!==this._drawApp.toolSelector.tool&&this._drawApp.canvas.dispatchEvent(this._drawApp.toolSelector.tool.event)):t.button===Ct.MIDDLE&&e.mouseWheelButtonUp(),this._dispatchEvent()}},{key:"onMouseWheel",value:function(t){t.preventDefault(),this._drawApp.mouse.scrollStep=this._drawApp.zoom.stepsMouseWheel,this.onZoom({scroll:t.deltaY,position:{x:t.offsetX,y:t.offsetY}})}},{key:"onZoom",value:function(t){var e=this._drawApp.mouse;this._setupMousePosition(t.position),t.scroll>0?e.mouseWheelDown():t.scroll<0&&e.mouseWheelUp(),e.scroll!==Mt.NONE&&(this._dispatchEvent(),e.scroll=Mt.NONE,this._drawApp.toolSelector.restoreTool())}},{key:"onMouseMove",value:function(t){t.preventDefault(),this.onMove({button:t.button,position:{x:t.offsetX,y:t.offsetY}})}},{key:"onMove",value:function(t){var e=this._drawApp.mouse;e.moving=!0,this._setupMousePosition(t.position),e.button!==Ct.NONE?this._dispatchEvent():this._drawApp.gui.mouseCheck(),e.moving=!1}},{key:"onMouseEnter",value:function(t){var e=this._drawApp.mouse;t.buttons===Ct.LEFT&&(e.mouseLeave(),this._dispatchEvent()),e.button!==Ct.NONE&&this._setupMousePosition({x:t.offsetX,y:t.offsetY})}},{key:"onContextMenu",value:function(t){t.preventDefault()}},{key:"onResizeWindow",value:function(t){t.resizeWindow()}},{key:"_setupMousePosition",value:function(t){var e=this._drawApp.mouse;null===e.lastPosition?(e.mouseMove({x:t.x,y:t.y}),e.lastPosition={x:e.position.x,y:e.position.y}):(e.lastPosition={x:e.position.x,y:e.position.y},e.mouseMove({x:t.x,y:t.y}))}},{key:"_dispatchEvent",value:function(){void 0!==this._drawApp.toolSelector.tool&&(this._drawApp.gui.mouseCheck(),this._drawApp.canvas.dispatchEvent(this._drawApp.toolSelector.tool.event))}}]),t}(),Nt=(n("4de4"),function(){function t(e,n){c(this,t),this.drawApp=e,this.name=n,this.enabled=!1,this.clickIn=!0,this.child=[],this.active=!1,this.loaded=!1,this.selectable=!0,this.hoverable=!0}return h(t,[{key:"hide",value:function(){this.enabled=!1}},{key:"show",value:function(){this.enabled=!0}},{key:"hover",value:function(){this.drawApp.ctx.filter="hue-rotate(180deg)",this.ui(),this.drawApp.ctx.filter="none"}},{key:"setActive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.img,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:270;void 0!==this.img&&(this.active=!0,this.drawApp.ctx.filter="hue-rotate(".concat(e,"deg)"),this.drawApp.ctx.drawImage(t,this._position.x,this._position.y,this.size.x,this.size.y),this.drawApp.ctx.filter="none")}},{key:"size",set:function(t){this._size=t},get:function(){return this._size}},{key:"position",set:function(t){this._position=t},get:function(){return this._position}}],[{key:"AddElement",value:function(t,e,n,i,o,r){if(n._position=void 0!==o?o:{x:0,y:0},null!==i){if(void 0!==r)i.width=r.x,i.height=r.y;else{var s=68;i.width=s,i.height=s}n.size={x:i.width,y:i.height},n.img=i}else n.size=r;t.push(n)}}]),t}()),jt=(n("f664"),function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"windowResize",value:function(){this.position={x:this.parent.position.x+this.parent.size.x-this.size.x,y:this.parent.position.y+this.parent.size.y-this.size.y}}},{key:"mouseUp",value:function(){var t={x:lt(this.drawApp.mouse.realPosition.x,0,this.position.x+this.size.x-1),y:lt(this.drawApp.mouse.realPosition.y,0,this.position.y+this.size.y-1)};this.drawApp.toolSelector.colorSelected=bt(this.drawApp.ctx.getImageData(t.x,t.y,1,1).data);var e=this.drawApp.toolSelector.tools[St.PENCIL];e.rainbow=!1}},{key:"ui",value:function(){var t=this.parent;if(t.change){t.change=!1;for(var e=10,n=0,i=0,o={x:this.size.x/11,y:this.size.y/11},r=0;r<=this.size.y;r+=this.pixelSize.y*e){n=0;for(var s=0;s<=this.size.x;s+=this.pixelSize.x*e)this.drawApp.ctx.fillStyle=xt(wt({H:t.hue,S:n,V:100-i})),this.drawApp.ctx.fillRect(Math.fround(this.position.x+n/e*o.x),Math.fround(this.position.y+i/e*o.y),o.x,o.y),n+=e;i+=e}this._imageData=this.drawApp.ctx.getImageData(this.position.x,this.position.y,this.size.x,this.size.y)}else this.drawApp.ctx.putImageData(this._imageData,this.position.x,this.position.y)}}]),n}(Nt)),Ut=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"_sizeHueSelector",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.hueSelectorSize.x/this.drawApp.settings.numColors*t}},{key:"_hue",value:function(t){return Math.trunc(360/this.drawApp.settings.numColors*t)}},{key:"init",value:function(){this.colorPickedSize=50,this.hueSelectorSize={x:this.size.x-this.colorPickedSize,y:this.size.y},this.hueSelectorPosition={x:this.position.x+this.size.x-this.hueSelectorSize.x,y:this.position.y};for(var t=0;t<this.drawApp.settings.numColors;t++)this.drawApp.ctx.fillStyle=xt(wt({H:this._hue(t),S:100,V:100})),this.drawApp.ctx.fillRect(this.hueSelectorPosition.x+this._sizeHueSelector(t),this.hueSelectorPosition.y,this._sizeHueSelector(),this.hueSelectorSize.y);this.parent.hue=this._hue(gt(0,19)),this.drawApp.toolSelector.colorSelected=xt(wt({H:this.parent.hue,S:100,V:100})),this._imageData=this.drawApp.ctx.getImageData(this.hueSelectorPosition.x,this.hueSelectorPosition.y,this.hueSelectorSize.x,this.hueSelectorSize.y),this.drawApp.reloadCanvas()}},{key:"windowResize",value:function(){this.position={x:this.parent.position.x,y:this.parent.position.y},this.hueSelectorPosition={x:this.position.x+this.size.x-this.hueSelectorSize.x,y:this.position.y}}},{key:"mouseUp",value:function(){var t=this.drawApp.mouse.realPosition;mt(t,this.position,{x:this.position.x+this.colorPickedSize,y:this.position.y+this.size.y})||this.changeHue()}},{key:"changeHue",value:function(){var t=this.drawApp.mouse.realPosition,e=this._hue(Math.floor(lt(t.x-this.hueSelectorPosition.x,0,this.hueSelectorSize.x)/this._sizeHueSelector())),n=this.parent;n.hue=e,n.change=!0}},{key:"ui",value:function(){this.drawApp.ctx.fillStyle=this.drawApp.toolSelector.colorSelected,this.drawApp.ctx.fillRect(this.position.x,this.position.y,this.colorPickedSize,this.hueSelectorSize.y),this.drawApp.ctx.putImageData(this._imageData,this.hueSelectorPosition.x,this.hueSelectorPosition.y)}}]),n}(Nt),Ft=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"windowResize",value:function(){this.position={x:this.drawApp.canvas.width-this.size.x-5,y:this.drawApp.canvas.height-this.size.y-5},this.child.forEach((function(t){t.windowResize&&t.windowResize()}))}},{key:"init",value:function(){var t=new jt(this.drawApp,"ColorSelectorMain");t.parent=this,t.hoverable=!1,t.selectable=!1,t.size={x:this.size.x,y:200},t.position={x:this.position.x+this.size.x-t.size.x,y:this.position.y+this.size.y-t.size.y},t.pixelSize={x:t.size.x/100,y:t.size.y/100},this.child.push(t);var e=new Ut(this.drawApp,"ColorSelectorSecondary");e.parent=this,e.hoverable=!1,e.selectable=!1,e.size={x:this.size.x,y:this.size.y-t.size.y},e.position={x:this.position.x,y:this.position.y},e.init(),this.child.push(e)}},{key:"mouseUp",value:function(){var t=this,e={x:lt(this.drawApp.mouse.realPosition.x,0,this.position.x+this.size.x-1),y:lt(this.drawApp.mouse.realPosition.y,0,this.position.y+this.size.y-1)};this.child.forEach((function(n){mt(e,n.position,{x:n.position.x+n.size.x,y:n.position.y+n.size.y})&&(n.mouseUp(),t.drawApp.reloadCanvas(),t.drawApp.gui.reloadGUI())}))}},{key:"ui",value:function(){this.child.forEach((function(t){return t.ui()}))}}]),n}(Nt),Gt=function(t){p(n,t);var e=m(n);function n(){var t;return c(this,n),t=e.apply(this,arguments),t._rainbowSelectorTime=1e3,t}return h(n,[{key:"init",value:function(){this._pencilTool=this.drawApp.toolSelector.tools.find((function(t){return t.toolType===St.PENCIL}))}},{key:"mouseDown",value:function(){this._startTime=(new Date).getTime()}},{key:"mouseUp",value:function(){this.drawApp.toolSelector.tool instanceof Et?(new Date).getTime()-this._startTime>this._rainbowSelectorTime?(this._pencilTool.rainbowColor=this.parent.child.find((function(t){return t instanceof Ft})).hue/(360/this.drawApp.settings.numColors)-1,this._pencilTool.rainbow=!this._pencilTool.rainbow):this._pencilTool.size=1===this._pencilTool.size?2:1:this.drawApp.toolSelector.selectTool=St.PENCIL}},{key:"ui",value:function(){var t;t=1===this._pencilTool.size?this.img:this.imgAlternative,this.active?this._pencilTool.rainbow?this.setActive(t,120):this.setActive(t):this.drawApp.ctx.drawImage(t,this.position.x,this.position.y,this.size.x,this.size.y)}}]),n}(Nt),Wt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"mouseUp",value:function(){this.drawApp.toolSelector.selectTool=St.CIRCLE;var t=this.drawApp.toolSelector.tools[St.CIRCLE];this.active&&(t.fill=!t.fill)}},{key:"ui",value:function(){var t=this.drawApp.toolSelector.tools[St.CIRCLE],e=t.fill?this.imgFilled:this.img;this.active?this.setActive(e):this.drawApp.ctx.drawImage(e,this.position.x,this.position.y,this.size.x,this.size.y)}}]),n}(Nt),Ht=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"mouseUp",value:function(){this.drawApp.toggleGrid()}},{key:"ui",value:function(){var t=this.drawApp.settings.showGrid?this.imgFilled:this.img;this.drawApp.ctx.drawImage(t,this.position.x,this.position.y,this.size.x,this.size.y)}}]),n}(Nt),Vt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"ui",value:function(){this.drawApp.ctx.drawImage(this.img,this.position.x,this.position.y,this.size.x,this.size.y)}},{key:"mouseUp",value:function(){this.drawApp.data.clearData(),this.drawApp.reloadCanvas(),this.drawApp.gui.reloadGUI()}}]),n}(Nt),Bt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"mouseUp",value:function(){this.drawApp.toolSelector.selectTool=St.BUCKET}},{key:"ui",value:function(){this.active?this.setActive():this.drawApp.ctx.drawImage(this.img,this.position.x,this.position.y,this.size.x,this.size.y)}}]),n}(Nt),Yt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"mouseUp",value:function(){this.drawApp.toolSelector.selectTool=St.COLOUR_PICKER}},{key:"ui",value:function(){this.active?this.setActive():this.drawApp.ctx.drawImage(this.img,this.position.x,this.position.y,this.size.x,this.size.y)}}]),n}(Nt),Xt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"mouseUp",value:function(){this.drawApp.data.undo(),this.drawApp.reloadCanvas(),this.drawApp.gui.reloadGUI()}},{key:"hover",value:function(){this.drawApp.data.canUndo()&&Y(f(n.prototype),"hover",this).call(this)}},{key:"ui",value:function(){this.drawApp.data.canUndo()?this.drawApp.ctx.drawImage(this.img,this.position.x,this.position.y,this.size.x,this.size.y):(this.drawApp.ctx.filter="grayscale(100%) hue-rotate(180deg)",this.drawApp.ctx.globalAlpha=.5,this.drawApp.ctx.drawImage(this.img,this.position.x,this.position.y,this.size.x,this.size.y),this.drawApp.ctx.globalAlpha=1,this.drawApp.ctx.filter="none")}}]),n}(Nt),qt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"mouseUp",value:function(){this.drawApp.data.redo(),this.drawApp.reloadCanvas(),this.drawApp.gui.reloadGUI()}},{key:"hover",value:function(){this.drawApp.data.canRedo()&&Y(f(n.prototype),"hover",this).call(this)}},{key:"ui",value:function(){this.drawApp.data.canRedo()?this.drawApp.ctx.drawImage(this.img,this.position.x,this.position.y,this.size.x,this.size.y):(this.drawApp.ctx.filter="grayscale(100%) hue-rotate(180deg)",this.drawApp.ctx.globalAlpha=.5,this.drawApp.ctx.drawImage(this.img,this.position.x,this.position.y,this.size.x,this.size.y),this.drawApp.ctx.globalAlpha=1,this.drawApp.ctx.filter="none")}}]),n}(Nt),Zt=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"windowResize",value:function(){this.size={x:this.drawApp.canvas.width,y:this.drawApp.canvas.height},this.child.forEach((function(t){t.windowResize&&t.windowResize()}))}},{key:"init",value:function(t){var e=this;this.drawApp.setSizeCanvas(),this.size={x:this.drawApp.canvas.width,y:this.drawApp.canvas.height},this.position={x:0,y:0},this.loadImagesAndButtons().then((function(){t.push(e),setTimeout((function(){e.loaded=!0}),100)}))}},{key:"loadImagesAndButtons",value:function(){var t=Z(regeneratorRuntime.mark((function t(){var e,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=64,t.next=3,J("pencil").then((function(t){var e=new Gt(i.drawApp,St.PENCIL.toString());e.parent=i,e.init(),Nt.AddElement(i.child,i.drawApp,e,t,{x:i.position.x,y:i.position.y}),J("pencil_big").then((function(t){e.imgAlternative=t}))}));case 3:return t.next=5,J("circle").then((function(t){var n=new Wt(i.drawApp,St.CIRCLE.toString());Nt.AddElement(i.child,i.drawApp,n,t,{x:i.position.x,y:i.position.y+e*i.child.length}),J("circle_filled").then((function(t){n.imgFilled=t}))}));case 5:return t.next=7,J("bucket").then((function(t){return Nt.AddElement(i.child,i.drawApp,new Bt(i.drawApp,St.BUCKET.toString()),t,{x:i.position.x,y:i.position.y+e*i.child.length})}));case 7:return t.next=9,J("colorpicker").then((function(t){return Nt.AddElement(i.child,i.drawApp,new Yt(i.drawApp,St.COLOUR_PICKER.toString()),t,{x:i.position.x,y:i.position.y+e*i.child.length})}));case 9:return t.next=11,J("grid").then((function(t){var n=new Ht(i.drawApp,St.GRID.toString());n.selectable=!1,Nt.AddElement(i.child,i.drawApp,n,t,{x:i.position.x,y:i.position.y+e*i.child.length}),J("grid_disabled").then((function(t){n.imgFilled=t}))}));case 11:return t.next=13,J("clear").then((function(t){var n=new Vt(i.drawApp,St.CLEAR.toString());n.selectable=!1,Nt.AddElement(i.child,i.drawApp,n,t,{x:i.drawApp.canvas.width-e,y:0})}));case 13:return t.next=15,J("undo").then((function(t){var n=new Xt(i.drawApp,"undoButton");n.selectable=!1,Nt.AddElement(i.child,i.drawApp,n,t,{x:i.position.x+e,y:i.position.y})}));case 15:return t.next=17,J("redo").then((function(t){var n=new qt(i.drawApp,"redoButton");n.selectable=!1,Nt.AddElement(i.child,i.drawApp,n,t,{x:i.position.x+2*e,y:i.position.y})}));case 17:n=new Ft(this.drawApp,"Color Selector"),n.selectable=!1,n.change=!0,n.hoverable=!1,n.size={x:280,y:250},n.position={x:this.drawApp.canvas.width-n.size.x-5,y:this.drawApp.canvas.height-n.size.y-5},n.init(),this.child.push(n),this.drawApp.toolSelector.selectTool=this.drawApp.toolSelector.startTool,this.child.find((function(t){return t.name===i.drawApp.toolSelector.tool.name})).active=!0;case 27:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"toggle",value:function(){this.loaded&&(this.enabled?this.hide():this.show())}},{key:"show",value:function(){this.enabled=!0,this.child.forEach((function(t){return t.show()})),this.ui()}},{key:"hide",value:function(){this.enabled=!1,this.drawApp.gui.reloadGUI(),this.drawApp.reloadCanvas()}},{key:"ui",value:function(){this.drawApp.ctx.fillStyle="gray",this.drawApp.ctx.globalAlpha=.6,this.drawApp.ctx.fillRect(this.position.x,this.position.y,this.size.x,this.size.y),this.drawApp.ctx.globalAlpha=1,this.child.forEach((function(t){return t.ui()}))}},{key:"mouseUp",value:function(){var t=this;this.child.forEach((function(e){if(Qt.CheckInsideGUIElement(t.drawApp,e)){if(!e.selectable)return void(e.mouseUp&&e.mouseUp());t.child.filter((function(t){return t.name!==e.name})).forEach((function(t){t.active=!1,t.ui()})),e.mouseUp(),e.setActive(),e.ui(),t.drawApp.reloadCanvas(),t.drawApp.gui.reloadGUI()}}))}},{key:"mouseDown",value:function(){var t=this;this.child.forEach((function(e){Qt.CheckInsideGUIElement(t.drawApp,e)&&e.mouseDown&&e.mouseDown()}))}}]),n}(Nt),$t=n("c8b5"),Kt=n.n($t);(function(t){t[t["NONE"]=0]="NONE",t[t["LEFTBUTTON"]=1]="LEFTBUTTON",t[t["MOVEZOOM"]=2]="MOVEZOOM"})(Lt||(Lt={}));var Jt=function(){function t(e){c(this,t),this._drawApp=e,this.mc=new Kt.a.Manager(e.canvas),this.touchAction=Lt.NONE,this.mc.add(new Kt.a.Press({time:25})),this.mc.add(new Kt.a.Pan({event:"move",pointers:1})),this.mc.add(new Kt.a.Tap({event:"singletap"})),this.mc.add(new Kt.a.Tap({event:"twofingerstap",pointers:2})),this.mc.add(new Kt.a.Pan({event:"twofingerspan",pointers:2})),this.mc.add(new Kt.a.Pinch({event:"twofingerspinch",pointers:2})),this.mc.get("twofingerspinch").recognizeWith("twofingerstap"),this.mc.get("twofingerspan").recognizeWith("twofingerstap")}return h(t,[{key:"_touchPosition",value:function(t){var e=this._drawApp.canvas.getBoundingClientRect();return{x:t.x-e.left,y:t.y-e.top}}},{key:"touchEnd",value:function(t){this.mc.get("twofingerspan").set({enable:!0}),this.mc.get("twofingerspinch").set({enable:!0}),this.touchAction!==Lt.LEFTBUTTON&&this.touchAction!==Lt.MOVEZOOM||(t(this._touchLastPosition),this.touchAction=Lt.NONE,this._drawApp.mouse.button=Ct.NONE,this._drawApp.mouse.moving=!1)}},{key:"touchPress",value:function(t,e){if("touch"===t.pointerType)try{this._touchLastPosition=this._touchPosition({x:t.pointers[0].x,y:t.pointers[0].y}),e(this._touchLastPosition),this.touchAction=Lt.LEFTBUTTON}catch(n){}}},{key:"touchMove",value:function(t,e){if("touch"===t.pointerType&&this.touchAction===Lt.LEFTBUTTON&&null!==t.pointers&&void 0!==t.pointers[0].x&&void 0!==t.pointers[0].y){var n=this._touchPosition({x:t.pointers[0].x,y:t.pointers[0].y});rt(dt(n,this._drawApp),dt(this._touchLastPosition,this._drawApp))&&(this._touchLastPosition=n,e(this._touchLastPosition))}}},{key:"touchTwoFingers",value:function(t,e,n){if("touch"===t.pointerType&&this.touchAction===Lt.NONE||this.touchAction===Lt.MOVEZOOM)if(this.touchAction===Lt.NONE)this._drawApp.mouse.moving=!0,this.touchAction=Lt.MOVEZOOM,this.limiting=0,this.lastScale=t.scale;else if(this.touchAction===Lt.MOVEZOOM)if(this.limiting>10){var i=this.lastScale<=t.scale;this._touchLastPosition=this._touchPosition({x:t.center.x,y:t.center.y});var o=Math.abs(this.lastScale-t.scale);o>=.08?(this._drawApp.mouse.scrollStep=i?o:2*o,n(this._touchLastPosition,i)):e(this._touchLastPosition),this.lastScale=t.scale,this.limiting=0}else this.limiting++}},{key:"touchTwoFingersTap",value:function(t,e){"touch"===t.pointerType&&this.touchAction===Lt.NONE&&(this.mc.get("twofingerspan").set({enable:!1}),this.mc.get("twofingerspinch").set({enable:!1}),e())}}]),t}(),Qt=function(){function t(e){c(this,t),this._drawApp=e,this._clickIn=!0,this.guiElements=[],this.toolbox=new Zt(e,"toolboxGUI"),this.toolbox.init(this.guiElements)}return h(t,[{key:"reloadGUI",value:function(){this.guiElements.filter((function(t){return t.enabled})).forEach((function(t){t.enabled&&t.ui()}))}},{key:"reloadRelativeGUI",value:function(){this._drawApp.settings.showGrid&&(this._centerLines(),this._gridLines())}},{key:"_gridLines",value:function(){if(this._drawApp.mouse.moving&&(this._drawApp.mouse.button===Ct.MIDDLE||this._drawApp.touch.touchAction===Lt.MOVEZOOM)){var t=this._drawApp.ctx;t.beginPath(),t.lineWidth=this._drawApp.zoom.level,t.moveTo(0,0);for(var e=1;e<this._drawApp.settings.gridSize;e++){var n=ft({x:e,y:e},this._drawApp),i={x:n.x*this._drawApp.zoom.level+this._drawApp.zoom.offset.x,y:n.y*this._drawApp.zoom.level+this._drawApp.zoom.offset.y};t.moveTo(0,i.y),t.lineTo(this._drawApp.canvas.width,i.y),t.moveTo(i.x,0),t.lineTo(i.x,this._drawApp.canvas.height)}t.stroke()}}},{key:"_centerLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;this._drawApp.paintCanvas({x:0,y:this._drawApp.canvas.height/2-t/2},!1,this._drawApp.settings.gridColor,this._drawApp.canvas.width,t),this._drawApp.paintCanvas({x:this._drawApp.canvas.width/2-t/2,y:0},!1,this._drawApp.settings.gridColor,t,this._drawApp.canvas.height)}},{key:"mouseCheck",value:function(){var e=this;this.guiElements.forEach((function(n){n.enabled&&(n.clickIn||e._drawApp.mouse.moving||(n.clickIn=!0,t.CheckInsideGUIElement(e._drawApp,n)&&n.mouseUp&&n.mouseUp()),e._drawApp.mouse.button===Ct.NONE&&(e._drawApp.reloadCanvas(),e.reloadGUI(),n.child.forEach((function(n){n.hoverable&&t.CheckInsideGUIElement(e._drawApp,n)&&n.hover()}))))})),this.guiElements.forEach((function(n){if(t.CheckInsideGUIElement(e._drawApp,n)){if(!n.enabled)return;e._drawApp.toolSelector.tool.event.stopImmediatePropagation(),n.clickIn&&e._drawApp.mouse.button===Ct.LEFT&&!e._drawApp.mouse.moving&&(n.clickIn=!1,n.mouseDown&&n.mouseDown())}}))}}],[{key:"CheckInsideGUIElement",value:function(t,e){return e.enabled&&mt(t.mouse.realPosition,e.position,{x:e.position.x+e.size.x,y:e.position.y+e.size.y})}}]),t}(),te=function(){function t(e,n){c(this,t),this.canvas=e,this.mouse=new Rt(this),this.touch=new Jt(this),this.eventCanvas=new Dt(this),this.data=new _t(this,n.gridSize),this.settings=n,this.settings.numColors=20,this.ctx=e.getContext("2d",{alpha:!1}),this.toolSelector=new It(this),this.zoom=this.toolSelector.tools[St.ZOOM],this.setSizeCanvas(),this.gui=new Qt(this),this.reloadCanvas()}return h(t,[{key:"paintCanvas",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.toolSelector.colorSelected,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.settings.pixelSize,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.settings.pixelSize,r={x:t.x*this.zoom.level+this.zoom.offset.x,y:t.y*this.zoom.level+this.zoom.offset.y},s=i*this.zoom.level,a=o*this.zoom.level;n.includes("hsl")?(this.ctx.fillStyle=n,n=this.ctx.fillStyle.substr(1)):n.includes("#")&&(n=n.substr(1)),this.ctx.fillStyle="#"+n,this.ctx.fillRect(r.x,r.y,s,a),e&&this.mouse.button!==Ct.MIDDLE&&this.touch.touchAction!==Lt.MOVEZOOM&&(this.ctx.lineWidth=this.zoom.level,this.ctx.strokeStyle=this.settings.gridColor,this.ctx.strokeRect(r.x,r.y,s,a))}},{key:"resizeWindow",value:function(){this.zoom.zoomIn(),this.zoom.zoomOut(),this.reloadCanvas(),this.gui.guiElements.forEach((function(t){t.windowResize()})),this.gui.reloadGUI()}},{key:"reloadCanvas",value:function(){this.setSizeCanvas(),this._redrawCanvas()}},{key:"setSizeCanvas",value:function(){this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,this.settings.pixelSize=this.canvas.width/this.settings.gridSize}},{key:"toggleGrid",value:function(){this.settings.showGrid=!this.settings.showGrid,this.resizeWindow()}},{key:"_redrawCanvas",value:function(){var t=ut(ct(at(it(this),{x:this.settings.pixelSize,y:this.settings.pixelSize}))),e=pt(ht(ct(at(ot(this),{x:this.settings.pixelSize,y:this.settings.pixelSize}))),st,{x:this.settings.gridSize,y:this.settings.gridSize});this.paintCanvas({x:0,y:0},!1,"white",this.canvas.width,this.canvas.height);for(var n=t.x;n<e.x;n++)for(var i=t.y;i<e.y;i++)this.paintCanvas(ft({x:n,y:i},this),this.settings.showGrid,this.data.pixels[n][i]);this.gui.reloadRelativeGUI()}}]),t}(),ee=function(t){p(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"mounted",value:function(){this.drawApp=new te(document.getElementById(this.canvasId),{gridSize:this.gridSize,gridColor:"000000",showGrid:!0})}},{key:"Data",value:function(){return this.drawApp.data.pixels}},{key:"LoadData",value:function(t){this.drawApp.data.pixels=t,this.drawApp.reloadCanvas()}},{key:"maxSizeCanvasCSS",get:function(){return{"max-width":"".concat(this.maxSize,"px"),"max-height":"".concat(this.maxSize,"px")}}}]),n}(b.a);w([V({required:!0})],ee.prototype,"canvasId",void 0),w([V({required:!1,default:600})],ee.prototype,"maxSize",void 0),w([V({required:!1,default:16})],ee.prototype,"gridSize",void 0),ee=w([G],ee);var ne=ee,ie=ne;n("e5e5");function oe(t,e,n,i,o,r,s,a){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=a?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var h=u.render;u.render=function(t,e){return c.call(e),h(t,e)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,c):[c]}return{exports:t,options:u}}var re=oe(ie,s,a,!1,null,"2fe2452c",null),se=re.exports;e["default"]=se},fc6a:function(t,e,n){var i=n("44ad"),o=n("1d80");t.exports=function(t){return i(o(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var i=n("4930");t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,n){var i=n("da84");t.exports=i.Promise}})["default"]}));
//# sourceMappingURL=DrawCanvas.umd.min.js.map